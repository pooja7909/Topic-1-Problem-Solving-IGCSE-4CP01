<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unit 1: Problem Solving ‚Äì IGCSE Computer Science</title>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Kalam:wght@300;400;700&family=Permanent+Marker&family=Patrick+Hand&display=swap" rel="stylesheet">
<style>
:root {
  --ink:#1a1a2e; --paper:#fdf8f0; --yellow:#ffd166; --coral:#ef476f;
  --teal:#06d6a0; --blue:#118ab2; --purple:#7b2d8b; --orange:#f77f00;
  --green:#2d6a4f; --pink:#e91e8c;
  --ly:#fff9c4; --lc:#fce4ec; --lt:#e0f7f2; --lb:#e3f2fd; --lp:#f3e5f5; --lg:#d8f3dc;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--paper);font-family:'Patrick Hand',cursive;color:var(--ink);overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(transparent,transparent 31px,rgba(100,149,237,.12) 31px,rgba(100,149,237,.12) 32px);pointer-events:none;z-index:0;}
body::after{content:'';position:fixed;top:0;left:70px;bottom:0;width:2px;background:rgba(239,71,111,.25);pointer-events:none;z-index:0;}
.pw{max-width:980px;margin:0 auto;padding:20px 30px 80px 90px;position:relative;z-index:1;}
@media(max-width:620px){.pw{padding:16px 12px 60px;}body::after{display:none;}}

/* HERO */
.hero{text-align:center;padding:36px 0 16px;}
.hero h1{font-family:'Permanent Marker',cursive;font-size:2.7rem;color:var(--ink);text-shadow:3px 3px 0 var(--yellow);display:inline-block;transform:rotate(-1deg);position:relative;}
.hero h1::after{content:'';position:absolute;bottom:-5px;left:0;right:0;height:4px;background:var(--pink);border-radius:2px;}
.hero-sub{font-family:'Caveat',cursive;font-size:1.3rem;color:var(--blue);margin-top:16px;}
.pills{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:14px;}
.pill{font-family:'Caveat',cursive;font-size:.88rem;font-weight:700;padding:4px 14px;border-radius:20px;border:2px solid;}

/* TABS */
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin:26px 0 18px;justify-content:center;}
.tb{font-family:'Caveat',cursive;font-size:1.05rem;font-weight:700;padding:8px 18px;border:3px solid var(--ink);border-radius:6px;background:white;cursor:pointer;transition:all .2s;box-shadow:3px 3px 0 var(--ink);}
.tb:hover{transform:translate(-1px,-1px);box-shadow:4px 4px 0 var(--ink);}
.tb.on{color:white;transform:translate(2px,2px);box-shadow:1px 1px 0 #000;}
.tb[data-t="map"].on{background:var(--blue);}
.tb[data-t="notes"].on{background:var(--green);}
.tb[data-t="pscode"].on{background:#7b2d8b;color:white;}
.tb[data-t="act"].on{background:var(--purple);}
.tb[data-t="quiz"].on{background:var(--teal);color:var(--ink);}
.tb[data-t="exam"].on{background:var(--coral);}
.tp{display:none;animation:fi .3s ease;}
.tp.on{display:block;}
@keyframes fi{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* NOTES SECTIONS */
.ns{margin-bottom:14px;border:2.5px solid var(--ink);border-radius:10px;overflow:hidden;box-shadow:4px 4px 0 var(--ink);}
.nh{padding:12px 18px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;}
.nh:hover{opacity:.9;}
.nh-l{display:flex;align-items:center;gap:12px;}
.nnum{font-family:'Permanent Marker',cursive;font-size:.82rem;background:rgba(255,255,255,.22);color:white;padding:2px 10px;border-radius:20px;}
.ntitle{font-family:'Permanent Marker',cursive;font-size:1rem;color:white;}
.ntog{font-family:'Caveat',cursive;font-size:1.1rem;color:white;transition:transform .3s;}
.nb{display:none;padding:18px 20px;background:white;font-size:.92rem;line-height:1.65;}
.nb.open{display:block;animation:fi .25s ease;}

/* NOTES COMPONENTS */
.def{border:2px solid;border-radius:8px;padding:12px 14px 10px;margin:10px 0;position:relative;padding-top:20px;font-size:.9rem;line-height:1.55;}
.def-lbl{position:absolute;top:-11px;left:12px;color:white;font-family:'Caveat',cursive;font-size:.76rem;font-weight:700;padding:2px 10px;border-radius:20px;}
.tip{background:#fff9c4;border:2px solid var(--yellow);border-left:5px solid var(--orange);border-radius:6px;padding:10px 14px;margin:12px 0 4px;font-size:.88rem;font-family:'Kalam',cursive;}
.eg{background:#f5f5f5;border-left:4px solid var(--blue);padding:8px 12px;margin:8px 0;border-radius:0 6px 6px 0;font-size:.86rem;font-style:italic;font-family:'Kalam',cursive;}
.kp{background:var(--ly);border:2px solid var(--orange);border-left:5px solid var(--orange);border-radius:6px;padding:10px 14px;margin:12px 0;font-size:.88rem;font-family:'Kalam',cursive;}
.li{display:flex;align-items:flex-start;gap:10px;margin:6px 0;font-size:.9rem;line-height:1.5;}
.dot{width:22px;height:22px;border-radius:50%;color:white;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-family:'Permanent Marker',cursive;flex-shrink:0;margin-top:2px;}
.sh{font-family:'Permanent Marker',cursive;font-size:.98rem;margin:14px 0 8px;display:flex;align-items:center;gap:8px;}
.sh::after{content:'';flex:1;height:2px;background:currentColor;opacity:.18;}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:10px 0;}
@media(max-width:600px){.g2{grid-template-columns:1fr;}}
.g3{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:10px;margin:10px 0;}
.nc{border:2.5px solid;border-radius:10px;overflow:hidden;box-shadow:2px 2px 0 var(--ink);}
.nh2{padding:8px 12px;font-family:'Permanent Marker',cursive;font-size:.88rem;color:white;}
.nb2{padding:11px;background:white;font-size:.85rem;line-height:1.55;}

/* CODE BLOCKS */
.code{background:#1a1a2e;color:#e0e0e0;padding:14px 16px;border-radius:8px;font-family:'Courier New',monospace;font-size:.86rem;line-height:1.75;margin:10px 0;overflow-x:auto;white-space:pre;}
.kw{color:#c792ea;} .str{color:#c3e88d;} .va{color:#82aaff;} .cm{color:#546e7a;}

/* OPERATOR TABLE */
.ot{width:100%;border-collapse:collapse;margin:12px 0;font-size:.87rem;}
.ot th{background:var(--ink);color:white;font-family:'Permanent Marker',cursive;padding:8px 12px;text-align:left;}
.ot td{padding:8px 12px;border-bottom:1px solid #eee;}
.ot tr:nth-child(even) td{background:#f9f9f9;}
.ot td:first-child{font-family:'Courier New',monospace;font-weight:700;font-size:1rem;text-align:center;color:var(--blue);}

/* MIND MAP */
.mm{background:#fffdf5;border:3px solid var(--ink);border-radius:12px;padding:24px;box-shadow:6px 6px 0 var(--ink);}
.mm-title{font-family:'Permanent Marker',cursive;font-size:1.7rem;text-align:center;margin-bottom:16px;}
.mm-center{background:var(--ink);color:white;border-radius:12px;padding:12px 18px;text-align:center;margin-bottom:16px;font-family:'Permanent Marker',cursive;font-size:1.1rem;}
.mm-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
@media(max-width:600px){.mm-grid{grid-template-columns:1fr;}}
.mc{border:2.5px solid var(--ink);border-radius:10px;overflow:hidden;box-shadow:3px 3px 0 var(--ink);}
.mh{padding:10px 14px;font-family:'Permanent Marker',cursive;font-size:.92rem;color:white;display:flex;align-items:center;gap:8px;}
.mb{padding:12px 14px;background:white;font-family:'Kalam',cursive;font-size:.85rem;line-height:1.65;}
.mp{display:inline-block;padding:2px 9px;border-radius:20px;font-family:'Caveat',cursive;font-size:.78rem;font-weight:700;border:1.5px solid;margin:2px;}

/* ‚ïê‚ïê‚ïê ACTIVITIES ‚ïê‚ïê‚ïê */
.act{margin-bottom:18px;border:2.5px solid var(--ink);border-radius:12px;overflow:hidden;box-shadow:5px 5px 0 var(--ink);}
.act-hdr{padding:13px 18px;display:flex;align-items:center;gap:12px;cursor:pointer;}
.act-hdr:hover{opacity:.92;}
.act-title{font-family:'Permanent Marker',cursive;font-size:1rem;color:white;flex:1;}
.act-tog{font-family:'Caveat',cursive;font-size:1rem;color:white;transition:transform .3s;}
.act-body{display:none;padding:20px;background:white;}
.act-body.open{display:block;}
.act-desc{font-family:'Kalam',cursive;font-size:.9rem;color:#444;margin-bottom:14px;line-height:1.7;}
.act-label{font-family:'Permanent Marker',cursive;font-size:.85rem;color:var(--blue);margin:12px 0 8px;display:flex;align-items:center;gap:8px;}
.act-label::after{content:'';flex:1;height:2px;background:var(--blue);opacity:.2;}

/* FLOWCHART CANVAS */
.fc-wrap{display:grid;grid-template-columns:150px 1fr;gap:14px;min-height:480px;}
@media(max-width:600px){.fc-wrap{grid-template-columns:1fr;}}
.fc-pal{border:2px dashed #ccc;border-radius:10px;padding:10px;background:#fafafa;}
.fc-pal-title{font-family:'Caveat',cursive;font-weight:700;font-size:.92rem;color:#666;margin-bottom:10px;text-align:center;border-bottom:1px dashed #ddd;padding-bottom:6px;}
.fc-sym{cursor:grab;margin:8px 0;user-select:none;text-align:center;}
.fc-sym:active{cursor:grabbing;}
.fc-sym span{font-family:'Patrick Hand',cursive;font-size:.72rem;color:#666;display:block;margin-top:2px;}
.fc-canvas-area{position:relative;}
.fc-canvas{width:100%;min-height:440px;border:2.5px solid var(--ink);border-radius:10px;background:repeating-linear-gradient(transparent,transparent 24px,rgba(100,149,237,.1) 24px,rgba(100,149,237,.1) 25px);position:relative;overflow:hidden;touch-action:none;}
.fc-hint{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#bbb;font-family:'Caveat',cursive;font-size:1rem;pointer-events:none;line-height:1.6;}
.fc-node{position:absolute;cursor:move;user-select:none;display:flex;align-items:center;justify-content:center;text-align:center;z-index:10;}
.fc-node.sel{filter:drop-shadow(0 0 5px var(--blue));}
.fc-toolbar{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px;}
.fc-btn{padding:6px 14px;border-radius:6px;font-family:'Caveat',cursive;font-size:.92rem;font-weight:700;border:2px solid;cursor:pointer;background:white;transition:all .15s;}
.fc-btn:hover{transform:translate(-1px,-1px);}
.fc-btn-conn{border-color:var(--teal);color:var(--teal);}
.fc-btn-del{border-color:var(--coral);color:var(--coral);}
.fc-btn-clear{border-color:var(--orange);color:var(--orange);}
.fc-grade{background:var(--lt);border:2px solid #059669;border-radius:8px;padding:12px 16px;margin-top:10px;font-family:'Kalam',cursive;font-size:.9rem;display:none;}
.fc-grade.show{display:block;}
.fc-soln{border:2px solid var(--blue);border-radius:8px;padding:16px;margin-top:10px;background:var(--lb);display:none;}
.fc-soln.show{display:block;}

/* TRACE TABLE */
.trace-wrap{overflow-x:auto;margin:10px 0;}
.trace-tbl{border-collapse:collapse;font-family:'Patrick Hand',cursive;font-size:.9rem;}
.trace-tbl th{background:var(--ink);color:white;font-family:'Permanent Marker',cursive;font-size:.82rem;padding:8px 14px;border:2px solid var(--ink);text-align:center;min-width:90px;white-space:nowrap;}
.trace-tbl td{border:2px solid #bbb;padding:0;text-align:center;}
.trace-tbl td.given{background:#f0f0f0;padding:7px 12px;font-weight:700;}
.ti{width:100%;padding:7px 10px;border:none;font-family:'Patrick Hand',cursive;font-size:.9rem;background:transparent;text-align:center;outline:none;min-width:80px;}
.ti:focus{background:var(--ly);}
.ti.ok{background:#d8f3dc!important;color:var(--green);}
.ti.bad{background:#fce4ec!important;color:var(--coral);}

/* PSEUDOCODE EDITOR */
.pse{border:2.5px solid var(--ink);border-radius:10px;overflow:hidden;box-shadow:3px 3px 0 var(--ink);}
.pse-hdr{background:#1a1a2e;color:white;padding:10px 16px;font-family:'Permanent Marker',cursive;font-size:.88rem;display:flex;align-items:center;gap:10px;}
.pse-dots{display:flex;gap:6px;}
.pse-dot{width:12px;height:12px;border-radius:50%;}
.pse-ta{width:100%;min-height:160px;background:#1e1e2e;color:#cdd6f4;font-family:'Courier New',monospace;font-size:.9rem;padding:14px;border:none;resize:vertical;outline:none;line-height:1.75;tab-size:2;}
.pse-fb{padding:12px 16px;font-family:'Kalam',cursive;font-size:.9rem;display:none;border-top:2px solid #eee;}
.pse-fb.show{display:block;}
.pse-fb.ok{background:var(--lt);color:var(--green);}
.pse-fb.part{background:#fff3e0;color:var(--orange);}
.pse-fb.bad{background:var(--lc);color:var(--coral);}

/* FILL BLANKS */
.wb{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px;}
.ww{padding:5px 14px;border:2.5px solid var(--ink);border-radius:6px;background:white;font-family:'Caveat',cursive;font-size:.95rem;font-weight:700;cursor:pointer;box-shadow:2px 2px 0 var(--ink);transition:all .15s;}
.ww:hover{transform:translate(-1px,-1px);}
.ww.used{opacity:.35;pointer-events:none;text-decoration:line-through;}
.ww.sel{background:var(--yellow);border-color:var(--orange);}
.blank{display:inline-block;min-width:90px;border-bottom:3px solid var(--ink);padding:2px 8px;font-family:'Caveat',cursive;font-size:.95rem;font-weight:700;text-align:center;margin:0 4px;cursor:pointer;background:rgba(255,255,255,.15);transition:background .2s;}
.blank.filled{background:rgba(100,200,100,.2);border-color:var(--teal);}
.blank.ok{background:#a6e3a1;color:#1a3a1a;border-color:#059669;}
.blank.bad{background:#f38ba8;color:#3a1a1a;border-color:#ef476f;}
.blank.sel-blank{outline:2px solid var(--yellow);background:rgba(255,209,102,.3);}

/* WRITTEN DESC AREA */
.wd-area{width:100%;min-height:120px;border:2.5px dashed #ccc;border-radius:8px;padding:14px;font-family:'Patrick Hand',cursive;font-size:.95rem;line-height:1.8;resize:vertical;background:white;outline:none;}
.wd-area:focus{border-color:var(--blue);background:#fefff8;}

/* SORTABLE QUIZ */
.sortable-list{display:flex;flex-direction:column;gap:6px;margin:10px 0;}
.sort-item{padding:10px 16px;border:2.5px solid var(--ink);border-radius:8px;background:white;font-family:'Patrick Hand',cursive;font-size:.92rem;cursor:grab;box-shadow:2px 2px 0 var(--ink);display:flex;align-items:center;gap:10px;user-select:none;}
.sort-item:active{cursor:grabbing;box-shadow:none;}
.sort-item.dragging{opacity:.5;background:var(--ly);}
.sort-grip{color:#aaa;font-size:1.2rem;}

/* QUIZ */
.qcard{background:white;border:3px solid var(--ink);border-radius:12px;padding:22px;box-shadow:5px 5px 0 var(--ink);}
.qnum{font-family:'Caveat',cursive;font-size:.9rem;color:#888;margin-bottom:8px;}
.qtext{font-family:'Permanent Marker',cursive;font-size:1.05rem;line-height:1.5;margin-bottom:16px;}
.qopts{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
@media(max-width:500px){.qopts{grid-template-columns:1fr;}}
.qopt{padding:11px 14px;border:2.5px solid var(--ink);border-radius:8px;background:white;font-family:'Patrick Hand',cursive;font-size:.92rem;cursor:pointer;text-align:left;transition:all .15s;box-shadow:2px 2px 0 var(--ink);}
.qopt:hover{transform:translate(-1px,-1px);background:var(--ly);}
.qopt.ok{background:var(--lt);border-color:#059669;color:var(--green);box-shadow:none;}
.qopt.bad{background:var(--lc);border-color:var(--coral);box-shadow:none;}
.qfb{margin-top:12px;padding:10px 14px;border-radius:8px;font-family:'Kalam',cursive;font-size:.9rem;display:none;}
.qfb.show{display:block;}
.qfb.ok{background:var(--lt);border:2px solid #059669;color:var(--green);}
.qfb.bad{background:var(--lc);border:2px solid var(--coral);color:var(--coral);}
.prog-wrap{display:flex;align-items:center;gap:10px;margin-bottom:14px;}
.prog-bar{flex:1;height:10px;background:#eee;border-radius:20px;overflow:hidden;}
.prog-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--blue));border-radius:20px;transition:width .4s ease;}
.score-badge{font-family:'Caveat',cursive;font-size:1rem;font-weight:700;color:var(--blue);white-space:nowrap;}
.qresult{text-align:center;padding:36px 20px;background:white;border:3px solid var(--ink);border-radius:12px;box-shadow:5px 5px 0 var(--ink);}
.big-score{font-family:'Permanent Marker',cursive;font-size:3.5rem;color:var(--blue);}

/* EXAM Q */
.eq{background:white;border:2.5px solid var(--ink);border-radius:10px;padding:18px 20px;margin-bottom:14px;box-shadow:3px 3px 0 var(--ink);}
.eq-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;flex-wrap:wrap;gap:6px;}
.eq-num{font-family:'Permanent Marker',cursive;font-size:.92rem;}
.eq-mk{font-family:'Caveat',cursive;font-size:.9rem;color:#888;}
.eq-ctx{background:var(--lb);border-left:4px solid var(--blue);border-radius:0 6px 6px 0;padding:10px 14px;margin-bottom:10px;font-family:'Kalam',cursive;font-size:.88rem;}
.eq-q{font-size:.93rem;line-height:1.65;margin-bottom:12px;}
.ans-box{width:100%;min-height:90px;border:2px solid #ccc;border-radius:6px;padding:10px;font-family:'Patrick Hand',cursive;font-size:.93rem;resize:vertical;outline:none;}
.ans-box:focus{border-color:var(--blue);}
.show-ms{margin-top:10px;background:var(--lp);border:2px solid var(--purple);border-radius:6px;padding:6px 16px;font-family:'Caveat',cursive;font-size:.95rem;font-weight:700;color:var(--purple);cursor:pointer;}
.ms{display:none;background:#fafafa;border:2px solid #ccc;border-radius:6px;padding:12px 16px;margin-top:10px;font-family:'Kalam',cursive;font-size:.88rem;line-height:1.7;}
.ms.show{display:block;}
.ms ul{margin-left:18px;}
.ms li{margin:3px 0;}
.ms-hdr{font-family:'Permanent Marker',cursive;font-size:.85rem;color:var(--green);margin-bottom:6px;}
.tag{display:inline-block;padding:3px 9px;border-radius:4px;font-family:'Caveat',cursive;font-size:.82rem;font-weight:700;margin-right:6px;border:1.5px solid;}
.tag-h{color:var(--coral);border-color:var(--coral);background:var(--lc);}
.tag-m{color:var(--orange);border-color:var(--orange);background:#fff3e0;}
.tag-e{color:#059669;border-color:var(--teal);background:var(--lt);}

/* BUTTONS */
.btn{display:inline-block;padding:8px 18px;border-radius:6px;font-family:'Caveat',cursive;font-size:1rem;font-weight:700;border:2.5px solid var(--ink);cursor:pointer;box-shadow:3px 3px 0 var(--ink);transition:all .15s;background:white;margin:3px;}
.btn:hover{transform:translate(-1px,-1px);box-shadow:4px 4px 0 var(--ink);}
.btn-p{background:var(--ink);color:white;}
.btn-t{background:var(--teal);color:var(--ink);border-color:#059669;}
.btn-b{background:var(--blue);color:white;border-color:var(--blue);}
.btn-c{background:var(--coral);color:white;border-color:var(--coral);}
.btn-pur{background:var(--purple);color:white;border-color:var(--purple);}

/* RESULT POPUPS */
.result-pop{margin-top:10px;padding:12px 16px;border-radius:8px;font-family:'Kalam',cursive;font-size:.9rem;display:none;}
.result-pop.show{display:block;}
.result-pop.ok{background:var(--lt);border:2px solid #059669;color:var(--green);}
.result-pop.part{background:#fff3e0;border:2px solid var(--orange);color:#7a3a00;}
.result-pop.bad{background:var(--lc);border:2px solid var(--coral);color:#8a0000;}

/* FC SYMBOL LABEL OVERLAY */
.fc-lbl{position:absolute;font-family:'Patrick Hand',cursive;font-size:.7rem;background:rgba(255,255,255,.95);border:1px solid #aaa;border-radius:4px;padding:2px 5px;pointer-events:none;text-align:center;z-index:20;max-width:90px;word-break:break-word;}

/* HIGHLIGHT HELPERS */
.hl-b{color:var(--blue);font-weight:700;} .hl-c{color:var(--coral);font-weight:700;} .hl-t{color:#059669;font-weight:700;} .hl-p{color:var(--purple);font-weight:700;} .hl-o{color:var(--orange);font-weight:700;} .hl-g{color:var(--green);font-weight:700;}
</style>
</head>
<body>
<div class="pw">

<!-- HERO -->
<div class="hero">
  <h1>üß† Unit 1: Problem Solving</h1>
  <p class="hero-sub">IGCSE Computer Science ¬∑ Pearson Edexcel ¬∑ Topics 1‚Äì4</p>
  <div class="pills">
    <span class="pill" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">1 Understanding Algorithms</span>
    <span class="pill" style="color:var(--teal);border-color:var(--teal);background:var(--lt);">2 Creating Algorithms</span>
    <span class="pill" style="color:var(--coral);border-color:var(--coral);background:var(--lc);">3 Sorting &amp; Searching</span>
    <span class="pill" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">4 Decomposition &amp; Abstraction</span>
    <span class="pill" style="color:var(--orange);border-color:var(--orange);background:var(--ly);">Pseudocode ¬∑ Flowcharts ¬∑ Trace Tables</span>
  </div>
</div>

<!-- TABS -->
<div class="tabs">
  <button class="tb on" data-t="map">üìã Mind Map</button>
  <button class="tb" data-t="notes">üìñ Notes</button>
  <button class="tb" data-t="pscode">üíª Pseudocode</button>
  <button class="tb" data-t="act">‚öôÔ∏è Activities</button>
  <button class="tb" data-t="quiz">‚ö° Quiz</button>
  <button class="tb" data-t="exam">üìù Exam Qs</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MIND MAP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp on" id="tp-map">
<div class="mm">
  <div class="mm-title">üß† Unit 1 ‚Äî Problem Solving</div>
  <div class="mm-center">PEARSON EDEXCEL IGCSE ¬∑ Unit 1 Topics 1 &amp; 2</div>
  <div class="mm-grid">

    <div class="mc">
      <div class="mh" style="background:var(--blue);">üìå What is an Algorithm?</div>
      <div class="mb">
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Precise method</span>
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Solves a problem</span><br>
        <div style="margin-top:6px;">Must be: <strong>Accurate</strong> (expected outcome) ¬∑ <strong>Consistent</strong> (same result every run) ¬∑ <strong>Efficient</strong> (shortest time, fewest resources)</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--pink);">üìÑ 3 Ways to Display</div>
      <div class="mb">
        <span class="mp" style="color:var(--pink);border-color:var(--pink);background:#fce4f4;">Written description</span>
        <span class="mp" style="color:var(--pink);border-color:var(--pink);background:#fce4f4;">Flowchart</span>
        <span class="mp" style="color:var(--pink);border-color:var(--pink);background:#fce4f4;">Pseudocode</span><br>
        <div style="margin-top:6px;">Shapes: Oval=Start/End ¬∑ Rectangle=Process ¬∑ Diamond=Decision ¬∑ Parallelogram=Input/Output</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--teal);color:var(--ink);">‚öôÔ∏è 3 Constructs</div>
      <div class="mb">
        <span class="mp" style="color:#059669;border-color:var(--teal);background:var(--lt);">Sequence</span>
        <span class="mp" style="color:#059669;border-color:var(--teal);background:var(--lt);">Selection (IF/ELSE)</span>
        <span class="mp" style="color:#059669;border-color:var(--teal);background:var(--lt);">Iteration (loop)</span><br>
        <div style="margin-top:6px;">Selection = choice between alternatives ¬∑ Iteration = repeat until condition met</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--orange);">‚ûï Arithmetic Operators</div>
      <div class="mb">
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">+ ‚àí * /</span>
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">DIV</span>
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">MOD</span>
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">^</span><br>
        <div style="margin-top:6px;">13 DIV 4 = 3 ¬∑ 13 MOD 4 = 1 ¬∑ 13/4 = 3.25 ¬∑ 3^3 = 27</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--purple);">üíª Edexcel Pseudocode</div>
      <div class="mb">
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">SEND ‚Ä¶ TO DISPLAY</span>
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">RECEIVE ‚Ä¶ FROM KEYBOARD</span>
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">SET ‚Ä¶ TO</span>
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">IF/ELSE/END IF</span>
        <div style="margin-top:6px;">Text in quotes. Variables without quotes. camelCase identifiers.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--coral);">üì¶ Variables &amp; Constants</div>
      <div class="mb">
        <span class="mp" style="color:var(--coral);border-color:var(--coral);background:var(--lc);">Variable = can change</span>
        <span class="mp" style="color:var(--coral);border-color:var(--coral);background:var(--lc);">Constant = never changes</span><br>
        <div style="margin-top:6px;">Use descriptive names ¬∑ camelCase e.g. <code>firstName</code> or snake_case e.g. <code>first_name</code></div>
      </div>
    </div>

  </div>

  <!-- Mind map row 2: Topics 3 & 4 -->
  <div style="margin-top:14px;border-top:2.5px dashed var(--ink);padding-top:14px;">
  <div class="mm-center" style="background:linear-gradient(135deg,var(--coral),#b01040);">üîç Topic 3: Sorting &amp; Searching Algorithms</div>
  <div class="mm-grid">

    <div class="mc">
      <div class="mh" style="background:var(--blue);">ü´ß Bubble Sort</div>
      <div class="mb">
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Brute force</span>
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Ascending / Descending</span><br>
        <div style="margin-top:6px;">Compares pairs, swaps if wrong order. Repeats passes until no swaps made. Largest "bubbles" to end each pass.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--teal);color:var(--ink);">üîÄ Merge Sort</div>
      <div class="mb">
        <span class="mp" style="color:#059669;border-color:var(--teal);background:var(--lt);">Divide &amp; conquer</span>
        <span class="mp" style="color:#059669;border-color:var(--teal);background:var(--lt);">Recursion</span><br>
        <div style="margin-top:6px;">Splits list in half repeatedly until single items, then merges back in order. Far faster than bubble sort for large lists.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--orange);">üîé Linear Search</div>
      <div class="mb">
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">Sequential</span>
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">Works on unsorted lists</span><br>
        <div style="margin-top:6px;">Goes through list item by item. Best = first item. Worst = last item. Average = n/2 comparisons. Simple but slow.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--purple);">‚ö° Binary Search</div>
      <div class="mb">
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">Divide &amp; conquer</span>
        <span class="mp" style="color:var(--purple);border-color:var(--purple);background:var(--lp);">Sorted list required</span><br>
        <div style="margin-top:6px;">Repeatedly selects median. Too high ‚Üí search left. Too low ‚Üí search right. Worst case: log‚ÇÇ(n) comparisons (only 10 for 1000 items!).</div>
      </div>
    </div>

  </div>

  <div style="margin-top:14px;">
  <div class="mm-center" style="background:linear-gradient(135deg,var(--green),#1a4a30);">üß© Topic 4: Decomposition &amp; Abstraction</div>
  <div class="mm-grid">

    <div class="mc">
      <div class="mh" style="background:var(--green);">üîß Decomposition</div>
      <div class="mb">
        <span class="mp" style="color:var(--green);border-color:var(--green);background:var(--lg);">Break into sub-problems</span>
        <span class="mp" style="color:var(--green);border-color:var(--green);background:var(--lg);">Easier to solve</span><br>
        <div style="margin-top:6px;">First step in problem solving. Teams can work in parallel. Errors easier to find. Code can be reused via <strong>subprograms</strong>.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--pink);">üé≠ Abstraction</div>
      <div class="mb">
        <span class="mp" style="color:var(--pink);border-color:var(--pink);background:#fce4f4;">Remove unnecessary detail</span>
        <span class="mp" style="color:var(--pink);border-color:var(--pink);background:#fce4f4;">Only essential features</span><br>
        <div style="margin-top:6px;">e.g. a virtual die = random number 1‚Äì6 (no need to model weight, colour, material etc.). High-level languages are a level of abstraction.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--blue);">üß† Computational Thinking</div>
      <div class="mb">
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Decomposition</span>
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Abstraction</span>
        <span class="mp" style="color:var(--blue);border-color:var(--blue);background:var(--lb);">Algorithm design</span><br>
        <div style="margin-top:6px;">The thought processes for formulating problems and solutions so a computer can carry them out.</div>
      </div>
    </div>

    <div class="mc">
      <div class="mh" style="background:var(--orange);">üì¶ Subprograms</div>
      <div class="mb">
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">Self-contained module</span>
        <span class="mp" style="color:var(--orange);border-color:var(--orange);background:#fff3e0;">Called when needed</span><br>
        <div style="margin-top:6px;">Code written once, used many times. Reduces complexity. Examples: a 'die' subprogram, a 'check won' subprogram.</div>
      </div>
    </div>

  </div>
  </div>
  </div>

  <div style="margin-top:14px;background:var(--ly);border:2px solid var(--orange);border-left:5px solid var(--orange);border-radius:8px;padding:10px 14px;font-family:'Kalam',cursive;font-size:.88rem;">
    ‚úèÔ∏è <strong>Key exam tip:</strong> Algorithm ‚â† Program. An algorithm is the <em>design</em>; a program is when that design is <em>implemented</em> in a programming language. Binary search requires a <em>sorted list</em> ‚Äî always state this limitation. Bubble sort = brute force; merge sort = divide &amp; conquer.
  </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PSEUDOCODE REFERENCE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp" id="tp-pscode">

<div style="background:linear-gradient(135deg,#4a0e6b,#7b2d8b);border-radius:12px;padding:16px 20px;margin-bottom:18px;color:white;font-family:'Permanent Marker',cursive;">
  üíª Edexcel IGCSE Pseudocode Command Set ‚Äî Official Reference
  <div style="font-family:'Kalam',cursive;font-size:.85rem;margin-top:6px;opacity:.9;">This is the exact reference sheet provided in your exam. Learn it well!</div>
</div>

<!-- DATA TYPES -->
<div class="ns" id="ps1">
  <div class="nh" onclick="toggleN('ps1')" style="background:linear-gradient(135deg,var(--blue),#0a4a8a);">
    <div class="nh-l"><span class="nnum">¬ß1</span><span class="ntitle">Data Types, Constants &amp; Identifiers</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <div class="g2">
      <div>
        <h4 class="sh" style="color:var(--blue);">üìä Data Types</h4>
        <table class="ot">
          <tr><th>Type</th><th>Description &amp; Example</th></tr>
          <tr><td>INTEGER</td><td>Whole numbers: 0, 42, ‚àí7</td></tr>
          <tr><td>REAL</td><td>Decimal numbers: 3.14, ‚àí0.5</td></tr>
          <tr><td>BOOLEAN</td><td>TRUE or FALSE only</td></tr>
          <tr><td>CHARACTER</td><td>Single character: 'A', '3', '?'</td></tr>
          <tr><td>STRING</td><td>Sequence of characters: 'Hello world'</td></tr>
          <tr><td>ARRAY</td><td>Ordered collection. Indices start at <strong>0</strong></td></tr>
        </table>
        <div class="kp">üí° <strong>Type coercion</strong> is automatic. e.g. 3 + 8.25 = 11.25 (INTEGER + REAL = REAL). You can force a type: <code>RECEIVE age FROM (INTEGER) KEYBOARD</code></div>
        <div class="eg">üìå Append operator <code>&amp;</code> joins strings:<br><code>SEND 'Fred' &amp; age TO DISPLAY</code> ‚Üí displays 'Fred18'<br><code>&amp;</code> also works on arrays to append elements.</div>
      </div>
      <div>
        <h4 class="sh" style="color:var(--purple);">üîí Constants</h4>
        <div class="def" style="border-color:var(--purple);">
          <span class="def-lbl" style="background:var(--purple);">SYNTAX</span>
          <p>Constants are set <strong>once only</strong>, identified by <code>CONST</code>:</p>
        </div>
        <div class="code"><span class="kw">CONST REAL</span> <span class="va">PI</span>
<span class="kw">SET</span> <span class="va">PI</span> <span class="kw">TO</span> 3.14159
<span class="kw">SET</span> <span class="va">circumference</span> <span class="kw">TO</span> <span class="va">radius</span> * <span class="va">PI</span> * 2</div>
        <h4 class="sh" style="color:var(--teal);">üè∑Ô∏è Identifiers</h4>
        <p>Variable/constant names: letters, digits, underscore, <strong>starting with a letter</strong>.</p>
        <div class="eg">Valid: <code>MyValue</code> ¬∑ <code>myValue</code> ¬∑ <code>My_Value</code> ¬∑ <code>Counter2</code></div>
        <h4 class="sh" style="color:var(--green);">üîß Built-in Functions</h4>
        <table class="ot">
          <tr><th>Function</th><th>What it does</th></tr>
          <tr><td>LENGTH(x)</td><td>Returns number of elements in array or string</td></tr>
          <tr><td>RANDOM(n)</td><td>Returns a random number from 0 to n</td></tr>
        </table>
        <div class="eg">üìå <code>SET size TO LENGTH(myWord)</code><br>üìå <code>SET roll TO RANDOM(5)</code> ‚Üí 0 to 5<br>üìå Comments start with <code>#</code>: <code># this is a comment</code></div>
      </div>
    </div>
  </div>
</div>

<!-- VARIABLES & ARRAYS -->
<div class="ns" id="ps2">
  <div class="nh" onclick="toggleN('ps2')" style="background:linear-gradient(135deg,var(--teal),#047857);">
    <div class="nh-l"><span class="nnum">¬ß2</span><span class="ntitle">Variables, Arrays &amp; Assignment</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <table class="ot">
      <tr><th>Syntax</th><th>What it does</th><th>Example</th></tr>
      <tr><td><code>SET Variable TO &lt;value&gt;</code></td><td>Assigns a value to a variable</td><td><code>SET Counter TO 0</code><br><code>SET name TO 'Alice'</code></td></tr>
      <tr><td><code>SET Variable TO &lt;expression&gt;</code></td><td>Computes expression, assigns result</td><td><code>SET sum TO score + 10</code><br><code>SET size TO LENGTH(word)</code></td></tr>
      <tr><td><code>SET Array[index] TO &lt;value&gt;</code></td><td>Assigns to element of 1D array (index from 0)</td><td><code>SET class[1] TO 'Ann'</code><br><code>SET marks[3] TO 56</code></td></tr>
      <tr><td><code>SET Array TO [v1, v2, ...]</code></td><td>Initialises 1D array with values</td><td><code>SET nums TO [1, 2, 3, 4, 5]</code></td></tr>
      <tr><td><code>SET Array[row, col] TO &lt;value&gt;</code></td><td>Assigns to element of 2D array</td><td><code>SET grid[2,4] TO 92</code></td></tr>
    </table>
    <div class="tip">‚úèÔ∏è Array indices <strong>start at 0</strong>. So a 5-element array has indices 0, 1, 2, 3, 4. <code>SET scores[0] TO 85</code> sets the <em>first</em> element.</div>
  </div>
</div>

<!-- INPUT/OUTPUT -->
<div class="ns" id="ps3">
  <div class="nh" onclick="toggleN('ps3')" style="background:linear-gradient(135deg,var(--orange),#b05a00);">
    <div class="nh-l"><span class="nnum">¬ß3</span><span class="ntitle">Input / Output</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <table class="ot">
      <tr><th>Syntax</th><th>What it does</th><th>Example</th></tr>
      <tr><td><code>SEND &lt;expression&gt; TO DISPLAY</code></td><td>Outputs to screen</td><td><code>SEND 'Hello!' TO DISPLAY</code><br><code>SEND score TO DISPLAY</code></td></tr>
      <tr><td><code>RECEIVE &lt;id&gt; FROM (type) &lt;device&gt;</code></td><td>Reads typed input of specified type</td><td><code>RECEIVE name FROM (STRING) KEYBOARD</code><br><code>RECEIVE age FROM (INTEGER) KEYBOARD</code></td></tr>
    </table>
    <div class="code"><span class="kw">SEND</span> <span class="str">'What is your name?'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">RECEIVE</span> <span class="va">name</span> <span class="kw">FROM</span> (STRING) <span class="kw">KEYBOARD</span>
<span class="kw">SEND</span> <span class="str">'Hello, '</span> &amp; <span class="va">name</span> <span class="kw">TO DISPLAY</span></div>
    <div class="tip">‚úèÔ∏è Text literals must be in <strong>single or double quotes</strong>. Variable names must <strong>not</strong> be in quotes or the word itself displays rather than the value!</div>
  </div>
</div>

<!-- SELECTION -->
<div class="ns" id="ps4">
  <div class="nh" onclick="toggleN('ps4')" style="background:linear-gradient(135deg,var(--coral),#a00030);">
    <div class="nh-l"><span class="nnum">¬ß4</span><span class="ntitle">Selection (IF / ELSE)</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <div class="g2">
      <div>
        <p style="margin-bottom:8px;"><strong>IF ‚Ä¶ THEN ‚Ä¶ END IF</strong></p>
        <div class="code"><span class="kw">IF</span> answer = 10 <span class="kw">THEN</span>
  <span class="kw">SET</span> score <span class="kw">TO</span> score + 1
<span class="kw">END IF</span></div>
      </div>
      <div>
        <p style="margin-bottom:8px;"><strong>IF ‚Ä¶ THEN ‚Ä¶ ELSE ‚Ä¶ END IF</strong></p>
        <div class="code"><span class="kw">IF</span> answer = <span class="str">'correct'</span> <span class="kw">THEN</span>
  <span class="kw">SEND</span> <span class="str">'Well done'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">ELSE</span>
  <span class="kw">SEND</span> <span class="str">'Try again'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END IF</span></div>
      </div>
    </div>
    <h4 class="sh" style="color:var(--coral);margin-top:14px;">Relational &amp; Logical Operators</h4>
    <div class="g2">
      <table class="ot">
        <tr><th>Symbol</th><th>Meaning</th></tr>
        <tr><td>=</td><td>equal to</td></tr>
        <tr><td>&lt;&gt;</td><td>not equal to</td></tr>
        <tr><td>&gt;</td><td>greater than</td></tr>
        <tr><td>&gt;=</td><td>greater than or equal to</td></tr>
        <tr><td>&lt;</td><td>less than</td></tr>
        <tr><td>&lt;=</td><td>less than or equal to</td></tr>
      </table>
      <table class="ot">
        <tr><th>Operator</th><th>Meaning</th></tr>
        <tr><td>AND</td><td>Both conditions must be true</td></tr>
        <tr><td>OR</td><td>At least one condition must be true</td></tr>
        <tr><td>NOT</td><td>Reverses the condition (true‚Üîfalse)</td></tr>
      </table>
    </div>
    <div class="code"><span class="kw">IF</span> score &gt;= 50 <span class="kw">AND</span> score &lt; 70 <span class="kw">THEN</span>
  <span class="kw">SEND</span> <span class="str">'Grade C'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END IF</span></div>
  </div>
</div>

<!-- REPETITION -->
<div class="ns" id="ps5">
  <div class="nh" onclick="toggleN('ps5')" style="background:linear-gradient(135deg,var(--green),#1a4a30);">
    <div class="nh-l"><span class="nnum">¬ß5</span><span class="ntitle">Repetition (Loops)</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <div class="g2">
      <div>
        <p style="font-family:'Permanent Marker',cursive;color:var(--blue);font-size:.9rem;margin-bottom:6px;">üîÑ WHILE ‚Ä¶ DO (pre-condition)</p>
        <div class="code"><span class="kw">WHILE</span> flag = 0 <span class="kw">DO</span>
  <span class="kw">SEND</span> <span class="str">'All well'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END WHILE</span></div>
        <div class="eg">Checks condition <strong>before</strong> each loop. May never run if condition is false from the start.</div>

        <p style="font-family:'Permanent Marker',cursive;color:var(--coral);font-size:.9rem;margin:12px 0 6px;">üîÅ REPEAT ‚Ä¶ UNTIL (post-condition)</p>
        <div class="code"><span class="kw">REPEAT</span>
  <span class="kw">SET</span> go <span class="kw">TO</span> go + 1
<span class="kw">UNTIL</span> go = 10</div>
        <div class="eg">Checks condition <strong>after</strong> each loop. Always runs at least <strong>once</strong>.</div>

        <p style="font-family:'Permanent Marker',cursive;color:var(--orange);font-size:.9rem;margin:12px 0 6px;">üî¢ REPEAT n TIMES</p>
        <div class="code"><span class="kw">REPEAT</span> 100-number <span class="kw">TIMES</span>
  <span class="kw">SEND</span> <span class="str">'*'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END REPEAT</span></div>
      </div>
      <div>
        <p style="font-family:'Permanent Marker',cursive;color:var(--purple);font-size:.9rem;margin-bottom:6px;">üî¢ FOR ‚Ä¶ FROM ‚Ä¶ TO (count-controlled)</p>
        <div class="code"><span class="kw">FOR</span> index <span class="kw">FROM</span> 1 <span class="kw">TO</span> 10 <span class="kw">DO</span>
  <span class="kw">SEND</span> arr[index] <span class="kw">TO DISPLAY</span>
<span class="kw">END FOR</span></div>
        <div class="eg">Counts from start to end (inclusive), one step at a time.</div>

        <p style="font-family:'Permanent Marker',cursive;color:var(--teal);font-size:.9rem;margin:12px 0 6px;">üî¢ FOR ‚Ä¶ STEP (custom increment)</p>
        <div class="code"><span class="kw">FOR</span> i <span class="kw">FROM</span> 1 <span class="kw">TO</span> 500 <span class="kw">STEP</span> 25 <span class="kw">DO</span>
  <span class="kw">SEND</span> i <span class="kw">TO DISPLAY</span>
<span class="kw">END FOR</span></div>

        <p style="font-family:'Permanent Marker',cursive;color:var(--green);font-size:.9rem;margin:12px 0 6px;">üî¢ FOR EACH (iterate over array)</p>
        <div class="code"><span class="kw">SET</span> words <span class="kw">TO</span> [<span class="str">'The'</span>,<span class="str">'sky'</span>,<span class="str">'is'</span>,<span class="str">'grey'</span>]
<span class="kw">SET</span> sentence <span class="kw">TO</span> <span class="str">''</span>
<span class="kw">FOR EACH</span> word <span class="kw">FROM</span> words <span class="kw">DO</span>
  <span class="kw">SET</span> sentence <span class="kw">TO</span> sentence &amp; word &amp; <span class="str">' '</span>
<span class="kw">END FOREACH</span></div>
      </div>
    </div>
    <div class="tip">‚úèÔ∏è <strong>Exam tip ‚Äî choosing the right loop:</strong> Use <strong>WHILE</strong> when you don't know how many times to repeat and the condition might be false from the start. Use <strong>REPEAT/UNTIL</strong> when the body must run at least once (e.g. input validation). Use <strong>FOR</strong> when you know exactly how many times to repeat.</div>
  </div>
</div>

<!-- SUBPROGRAMS -->
<div class="ns" id="ps6">
  <div class="nh" onclick="toggleN('ps6')" style="background:linear-gradient(135deg,var(--purple),#3a0860);">
    <div class="nh-l"><span class="nnum">¬ß6</span><span class="ntitle">Subprograms ‚Äî Procedures &amp; Functions</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <div class="g2">
      <div>
        <p style="font-family:'Permanent Marker',cursive;color:var(--blue);font-size:.9rem;margin-bottom:6px;">üì¶ PROCEDURE (no return value)</p>
        <div class="code"><span class="kw">PROCEDURE</span> <span class="va">CalcAvg</span>(mark1, mark2, mark3)
<span class="kw">BEGIN PROCEDURE</span>
  <span class="kw">SET</span> avg <span class="kw">TO</span> (mark1+mark2+mark3)/3
  <span class="kw">SEND</span> avg <span class="kw">TO DISPLAY</span>
<span class="kw">END PROCEDURE</span>

<span class="cm"># Call it like this:</span>
<span class="va">CalcAvg</span>(78, 85, 92)</div>
        <div class="eg">A procedure <strong>does something</strong> but doesn't return a value back to the calling code.</div>
      </div>
      <div>
        <p style="font-family:'Permanent Marker',cursive;color:var(--coral);font-size:.9rem;margin-bottom:6px;">‚ö° FUNCTION (returns a value)</p>
        <div class="code"><span class="kw">FUNCTION</span> <span class="va">AddMarks</span>(m1, m2, m3)
<span class="kw">BEGIN FUNCTION</span>
  <span class="kw">SET</span> total <span class="kw">TO</span> m1 + m2 + m3
  <span class="kw">RETURN</span> total
<span class="kw">END FUNCTION</span>

<span class="cm"># Call it and use the result:</span>
<span class="kw">SET</span> result <span class="kw">TO</span> <span class="va">AddMarks</span>(78, 85, 92)</div>
        <div class="eg">A function <strong>returns a value</strong> using <code>RETURN</code>. The result can be stored in a variable or used directly in an expression.</div>
      </div>
    </div>
    <div class="tip">‚úèÔ∏è <strong>Procedure vs Function:</strong> If the subprogram needs to <em>give a value back</em> to the main program, use a FUNCTION with RETURN. If it just performs an action (e.g. displays output), use a PROCEDURE.</div>
  </div>
</div>

<!-- FILE HANDLING -->
<div class="ns" id="ps7">
  <div class="nh" onclick="toggleN('ps7')" style="background:linear-gradient(135deg,var(--pink),#900050);">
    <div class="nh-l"><span class="nnum">¬ß7</span><span class="ntitle">File Handling &amp; Operators Summary</span></div>
    <span class="ntog">‚ñº</span>
  </div>
  <div class="nb open">
    <div class="g2">
      <div>
        <h4 class="sh" style="color:var(--pink);">üìÅ File Handling</h4>
        <table class="ot">
          <tr><th>Syntax</th><th>What it does</th></tr>
          <tr><td><code>READ &lt;file&gt; &lt;record&gt;</code></td><td>Reads one record from a file each time called</td></tr>
          <tr><td><code>WRITE &lt;file&gt; &lt;record&gt;</code></td><td>Writes one record to a file each time called</td></tr>
        </table>
        <div class="code"><span class="kw">READ</span> MyFile.doc Record
<span class="kw">WRITE</span> MyFile.doc Answer1, Answer2</div>
      </div>
      <div>
        <h4 class="sh" style="color:var(--orange);">‚ûï All Arithmetic Operators</h4>
        <table class="ot">
          <tr><th>Symbol</th><th>Operation</th><th>Example</th></tr>
          <tr><td>+</td><td>Add</td><td>5 + 3 = 8</td></tr>
          <tr><td>‚àí</td><td>Subtract</td><td>9 ‚àí 4 = 5</td></tr>
          <tr><td>*</td><td>Multiply</td><td>6 * 7 = 42</td></tr>
          <tr><td>/</td><td>Real divide (decimal)</td><td>13 / 4 = 3.25</td></tr>
          <tr><td>^</td><td>Exponent (power)</td><td>3 ^ 3 = 27</td></tr>
          <tr><td>MOD</td><td>Modulo (remainder)</td><td>13 MOD 4 = 1</td></tr>
          <tr><td>DIV</td><td>Integer divide (whole)</td><td>13 DIV 4 = 3</td></tr>
        </table>
      </div>
    </div>
    <div class="kp" style="margin-top:12px;">üí° <strong>Quick memory aid for MOD vs DIV:</strong><br>
      <strong>DIV</strong> = "how many <em>whole</em> times does it fit?" ‚Üí 13 DIV 4 = <strong>3</strong> (3 √ó 4 = 12, fits 3 times)<br>
      <strong>MOD</strong> = "what's left over?" ‚Üí 13 MOD 4 = <strong>1</strong> (13 ‚àí 12 = 1 remainder)
    </div>
  </div>
</div>

</div><!-- end pscode tab -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     NOTES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp" id="tp-notes">

  <!-- TOPIC 1 -->
  <div class="ns" id="n1">
    <div class="nh" onclick="toggleN('n1')" style="background:linear-gradient(135deg,var(--blue),#0d6efd);">
      <div class="nh-l"><span class="nnum">Topic 1</span><span class="ntitle">Understanding Algorithms</span></div>
      <span class="ntog">‚ñº</span>
    </div>
    <div class="nb">
      <div class="def" style="border-color:var(--blue);">
        <span class="def-lbl" style="background:var(--blue);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-b">Unambiguous</strong> ‚Äî instructions cannot be misunderstood. Simply saying 'turn' would be ambiguous (unclear) ‚Äî you could turn left or right. All instructions given to a computer must be unambiguous.<br><br>
        <strong class="hl-b">Sequence</strong> ‚Äî an ordered set of instructions.<br>
        <strong class="hl-b">Algorithm</strong> ‚Äî a precise method for solving a problem.</p>
      </div>

      <p>An interactive map (e.g. Google Maps) uses an algorithm to calculate a route from Beijing to Shanghai. The algorithm is:</p>
      <div class="li"><span class="dot" style="background:var(--blue);">‚Ä¢</span><div><strong>Unambiguous</strong> ‚Äî it tells the driver exactly what to do: 'turn left', 'turn right' or 'go straight'.</div></div>
      <div class="li"><span class="dot" style="background:var(--blue);">‚Ä¢</span><div>A <strong>sequence</strong> of steps.</div></div>
      <div class="li"><span class="dot" style="background:var(--blue);">‚Ä¢</span><div>Will always provide the same result when run again.</div></div>
      <div class="li"><span class="dot" style="background:var(--blue);">‚Ä¢</span><div>Provides a solution to a problem (how to get from Beijing to Shanghai).</div></div>

      <h4 class="sh" style="color:var(--blue);">‚úÖ What makes a Successful Algorithm?</h4>
      <div class="def" style="border-color:var(--teal);">
        <span class="def-lbl" style="background:var(--teal);">GENERAL VOCABULARY</span>
        <p><strong class="hl-t">Outcome</strong> ‚Äî the final result of an action.<br>
        <strong class="hl-t">Consistency</strong> ‚Äî not changing; always the same.</p>
      </div>
      <div class="g3">
        <div class="nc" style="border-color:var(--blue);"><div class="nh2" style="background:var(--blue);">‚úÖ Accuracy</div><div class="nb2">Must lead to the expected <strong>outcome</strong> (e.g. create a route from Beijing to Shanghai).</div></div>
        <div class="nc" style="border-color:var(--teal);"><div class="nh2" style="background:#059669;">üîÑ Consistency</div><div class="nb2">Must produce the <strong>same result</strong> each time it is run.</div></div>
        <div class="nc" style="border-color:var(--orange);"><div class="nh2" style="background:var(--orange);">‚ö° Efficiency</div><div class="nb2">Must solve the problem in the <strong>shortest time</strong> using as few computer resources as possible.</div></div>
      </div>

      <h4 class="sh" style="color:var(--pink);">üìÑ Three Ways to Display an Algorithm</h4>
      <div class="g3">
        <div class="nc" style="border-color:var(--blue);"><div class="nh2" style="background:var(--blue);">üìù Written Description</div><div class="nb2">The simplest way. Plain English steps in order. e.g. the algorithm for making a cup of coffee:<br><br><em>Fill kettle with water. Turn on kettle. Place coffee in cup. Wait for water to boil. Pour water into cup. Add milk and sugar. Stir.</em></div></div>
        <div class="nc" style="border-color:var(--coral);"><div class="nh2" style="background:var(--coral);">üî∑ Flowchart</div><div class="nb2">A diagram using standard symbols. Symbols linked by arrows showing the order of steps. More visual ‚Äî can't make up your own symbols!</div></div>
        <div class="nc" style="border-color:var(--purple);"><div class="nh2" style="background:var(--purple);">üíª Pseudocode</div><div class="nb2">A structured, code-like language. Allows the developer to focus on the <strong>logic</strong> without worrying about real syntax. Easily translated into any programming language.</div></div>
      </div>

      <h4 class="sh" style="color:var(--coral);">üî∑ Flowchart Symbols</h4>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;margin:10px 0;">
        <div style="text-align:center;border:2px solid var(--green);border-radius:8px;padding:10px;background:var(--lg);">
          <svg width="80" height="36"><ellipse cx="40" cy="18" rx="37" ry="15" fill="white" stroke="#2d6a4f" stroke-width="2"/><text x="40" y="22" font-size="10" text-anchor="middle" fill="#2d6a4f" font-family="Patrick Hand,sans-serif">Start/End</text></svg>
          <div style="font-family:'Kalam',cursive;font-size:.78rem;margin-top:4px;color:var(--green);">Start or End</div>
        </div>
        <div style="text-align:center;border:2px solid var(--blue);border-radius:8px;padding:10px;background:var(--lb);">
          <svg width="80" height="36"><rect x="4" y="4" width="72" height="28" rx="2" fill="white" stroke="#118ab2" stroke-width="2"/><text x="40" y="22" font-size="10" text-anchor="middle" fill="#118ab2" font-family="Patrick Hand,sans-serif">Process</text></svg>
          <div style="font-family:'Kalam',cursive;font-size:.78rem;margin-top:4px;color:var(--blue);">Process (action)</div>
        </div>
        <div style="text-align:center;border:2px solid var(--coral);border-radius:8px;padding:10px;background:var(--lc);">
          <svg width="80" height="48"><polygon points="40,4 76,24 40,44 4,24" fill="white" stroke="#ef476f" stroke-width="2"/><text x="40" y="28" font-size="10" text-anchor="middle" fill="#ef476f" font-family="Patrick Hand,sans-serif">Decision</text></svg>
          <div style="font-family:'Kalam',cursive;font-size:.78rem;margin-top:4px;color:var(--coral);">Decision</div>
        </div>
        <div style="text-align:center;border:2px solid var(--orange);border-radius:8px;padding:10px;background:#fff3e0;">
          <svg width="80" height="36"><polygon points="14,4 76,4 66,32 4,32" fill="white" stroke="#f77f00" stroke-width="2"/><text x="40" y="22" font-size="10" text-anchor="middle" fill="#f77f00" font-family="Patrick Hand,sans-serif">Input/Out</text></svg>
          <div style="font-family:'Kalam',cursive;font-size:.78rem;margin-top:4px;color:var(--orange);">Input or Output</div>
        </div>
      </div>

      <h4 class="sh" style="color:var(--orange);">‚ûï Arithmetic Operators (Table 1.1)</h4>
      <table class="ot">
        <tr><th>Operator</th><th>Function</th><th>Example</th></tr>
        <tr><td>+</td><td>Addition: add the values together</td><td>8 + 5 = 13 &nbsp; | &nbsp; myScore1 + myScore2</td></tr>
        <tr><td>‚àí</td><td>Subtraction: subtract the second value from the first</td><td>17 ‚àí 4 = 13 &nbsp; | &nbsp; myScore1 ‚àí myScore2</td></tr>
        <tr><td>*</td><td>Multiplication: multiply the values together</td><td>6 * 9 = 54 &nbsp; | &nbsp; numberBought * price</td></tr>
        <tr><td>/</td><td>Real division: divide and return result including decimal places</td><td>13 / 4 = 3.25 &nbsp; | &nbsp; totalMarks/numberTests</td></tr>
        <tr><td>DIV</td><td><strong>Quotient</strong>: like division, but only returns the whole number (integer)</td><td>13 DIV 4 = 3 &nbsp; | &nbsp; totalMarks DIV numberTests</td></tr>
        <tr><td>MOD</td><td><strong>Modulus</strong>: returns the remainder of a division</td><td>13 MOD 4 = 1 &nbsp; (because 13 = 3√ó4 + 1)</td></tr>
        <tr><td>^</td><td>Exponentiation: to the <strong>power of</strong></td><td>3 ^ 3 = 27 &nbsp; (same as 3¬≥)</td></tr>
      </table>

      <h4 class="sh" style="color:var(--coral);">üì¶ Variables and Constants</h4>
      <div class="def" style="border-color:var(--coral);">
        <span class="def-lbl" style="background:var(--coral);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-c">Variable</strong> ‚Äî a 'container' used to store data. The value stored can change during the program. Each variable has a unique <strong>identifier</strong>.<br><br>
        <strong class="hl-c">Constant</strong> ‚Äî a 'container' that holds a value that <em>never changes</em> (e.g. Pi = 3.14159, number of months in a year = 12).<br><br>
        <strong class="hl-c">Identifier</strong> ‚Äî a unique name given to a variable or constant. Use <strong>descriptive names</strong> (e.g. <code>firstName</code> not just <code>x</code>).</p>
      </div>
      <div class="kp">üí° <strong>Key Point:</strong> Use consistent naming conventions: <strong>camelCase</strong> (e.g. <code>firstName</code>, <code>secondName</code>) or <strong>snake_case</strong> (e.g. <code>first_name</code>, <code>second_name</code>). Never mix them in one algorithm!</div>

      <h4 class="sh" style="color:var(--purple);">üíª Pseudocode Example ‚Äî Adding Two Numbers</h4>
      <div class="code"><span class="kw">SEND</span> <span class="str">'Please enter the first number'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">RECEIVE</span> <span class="va">firstNumber</span> <span class="kw">FROM</span> (INTEGER) <span class="kw">KEYBOARD</span>
<span class="kw">SEND</span> <span class="str">'Please enter the second number'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">RECEIVE</span> <span class="va">secondNumber</span> <span class="kw">FROM</span> (INTEGER) <span class="kw">KEYBOARD</span>
<span class="kw">SET</span> <span class="va">total</span> <span class="kw">TO</span> <span class="va">firstNumber</span> + <span class="va">secondNumber</span>
<span class="kw">SEND</span> <span class="va">total</span> <span class="kw">TO DISPLAY</span></div>
      <div class="li"><span class="dot" style="background:var(--purple);">‚Ä¢</span><div>Text to be displayed must be in <strong>quotation marks</strong> (single or double): <code>'Please enter the first number'</code></div></div>
      <div class="li"><span class="dot" style="background:var(--purple);">‚Ä¢</span><div>Variable names are <strong>NOT</strong> in quotes ‚Äî if they were, the word would display instead of the value it stores.</div></div>
      <div class="li"><span class="dot" style="background:var(--purple);">‚Ä¢</span><div>RECEIVE always includes a <strong>data type</strong> in brackets: <code>FROM (INTEGER) KEYBOARD</code>, <code>FROM (STRING) KEYBOARD</code>, <code>FROM (REAL) KEYBOARD</code></div></div>
      <div class="tip">‚úèÔ∏è <strong>Exam tip:</strong> Know what each keyword does: <strong>SEND ‚Ä¶ TO DISPLAY</strong> = output ¬∑ <strong>RECEIVE ‚Ä¶ FROM (type) KEYBOARD</strong> = input ¬∑ <strong>SET ‚Ä¶ TO</strong> = assign a value to a variable. Never use PRINT or INPUT ‚Äî those are not Edexcel pseudocode! Arrays start at index <strong>0</strong>, not 1.</div>
    </div>
  </div>

  <!-- TOPIC 2 -->
  <div class="ns" id="n2">
    <div class="nh" onclick="toggleN('n2')" style="background:linear-gradient(135deg,#059669,#047857);">
      <div class="nh-l"><span class="nnum">Topic 2</span><span class="ntitle">Creating Algorithms ‚Äî Sequence, Selection, Iteration</span></div>
      <span class="ntog">‚ñº</span>
    </div>
    <div class="nb">
      <p>All algorithms for computers are built from three <strong>constructs</strong>:</p>
      <div class="def" style="border-color:var(--teal);">
        <span class="def-lbl" style="background:var(--teal);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-t">Construct</strong> ‚Äî a smaller part from which something is built.<br>
        <strong class="hl-t">Selection</strong> ‚Äî a construct that allows a choice between different alternatives.<br>
        <strong class="hl-t">Iteration</strong> ‚Äî a construct that means a process is <strong>repeated</strong>. An action is repeated until a <strong>condition</strong> is met or a particular outcome is reached. Also called a <strong>'loop'</strong>.<br>
        <strong class="hl-t">Condition</strong> ‚Äî something that must happen before something else can happen.</p>
      </div>

      <div class="g3">
        <div class="nc" style="border-color:var(--blue);"><div class="nh2" style="background:var(--blue);">üìã Sequence</div><div class="nb2">Instructions carried out in order, one after another.<br><br><em>e.g. Fill kettle ‚Üí Turn on kettle ‚Üí Wait ‚Üí Pour water</em><br><br>In a flowchart: straight line of shapes from top to bottom.</div></div>
        <div class="nc" style="border-color:var(--coral);"><div class="nh2" style="background:var(--coral);">üîÄ Selection (IF)</div><div class="nb2">A choice between different alternatives based on a condition. Uses a <strong>diamond</strong> shape in flowcharts. Uses IF/ELSE in pseudocode.<br><br><em>e.g. IF temperature = 100¬∞C THEN turn off kettle</em></div></div>
        <div class="nc" style="border-color:var(--orange);"><div class="nh2" style="background:var(--orange);">üîÑ Iteration (Loop)</div><div class="nb2">Repeating instructions until a condition is met. Shown in flowchart by arrow looping <strong>back</strong> to an earlier step.<br><br><em>e.g. Keep checking UNTIL temperature = 100¬∞C</em></div></div>
      </div>

      <div class="kp">üí° <strong>Key Point:</strong> The algorithm for making coffee had an <strong>ambiguous</strong> statement: "Wait for water to boil." A computer can't understand this ‚Äî it would wait forever! We must replace it with iteration: keep checking until temperature = 100¬∞C.</div>

      <h4 class="sh" style="color:var(--coral);">üíª Selection in Pseudocode ‚Äî Grades Algorithm (Activity 8)</h4>
      <div class="code"><span class="kw">RECEIVE</span> <span class="va">testScore</span> <span class="kw">FROM KEYBOARD</span>
<span class="kw">IF</span> <span class="va">testScore</span> >= 80 <span class="kw">THEN</span>
    <span class="kw">SEND</span> <span class="str">'A'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">ELSE</span>
    <span class="kw">IF</span> <span class="va">testScore</span> >= 70 <span class="kw">THEN</span>
        <span class="kw">SEND</span> <span class="str">'B'</span> <span class="kw">TO DISPLAY</span>
    <span class="kw">ELSE</span>
        <span class="kw">IF</span> <span class="va">testScore</span> >= 60 <span class="kw">THEN</span>
            <span class="kw">SEND</span> <span class="str">'C'</span> <span class="kw">TO DISPLAY</span>
        <span class="kw">ELSE</span>
            <span class="kw">IF</span> <span class="va">testScore</span> > 0 <span class="kw">THEN</span>
                <span class="kw">SEND</span> <span class="str">'D'</span> <span class="kw">TO DISPLAY</span>
            <span class="kw">ELSE</span>
                <span class="kw">SEND</span> <span class="str">'FAIL'</span> <span class="kw">TO DISPLAY</span>
            <span class="kw">END IF</span>
        <span class="kw">END IF</span>
    <span class="kw">END IF</span>
<span class="kw">END IF</span></div>
      <div class="tip">‚úèÔ∏è <strong>Exam tip:</strong> In a flowchart, <strong>iteration</strong> is shown by an arrow looping BACK upwards. <strong>Selection</strong> is shown by a DIAMOND with YES and NO exits. A common mistake: students draw selection when they mean iteration ‚Äî check if the algorithm needs to <em>repeat</em>!</div>

      <h4 class="sh" style="color:var(--teal);">üîÑ Types of Iteration (Loops)</h4>
      <p>The pseudocode booklet defines <strong>five</strong> loop structures. You need to know them all:</p>
      <div class="g2">
        <div class="nc" style="border-color:var(--blue);"><div class="nh2" style="background:var(--blue);">WHILE ‚Ä¶ DO (pre-condition)</div><div class="nb2">Condition checked <strong>before</strong> each loop. May never execute if condition is false at the start.<br><br><div class="code" style="font-size:.78rem;padding:8px;"><span class="kw">WHILE</span> flag = 0 <span class="kw">DO</span>
  <span class="kw">SEND</span> <span class="str">'OK'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END WHILE</span></div></div></div>
        <div class="nc" style="border-color:var(--coral);"><div class="nh2" style="background:var(--coral);">REPEAT ‚Ä¶ UNTIL (post-condition)</div><div class="nb2">Condition checked <strong>after</strong> each loop. Runs <strong>at least once</strong> ‚Äî great for input validation.<br><br><div class="code" style="font-size:.78rem;padding:8px;"><span class="kw">REPEAT</span>
  <span class="kw">SET</span> go <span class="kw">TO</span> go + 1
<span class="kw">UNTIL</span> go = 10</div></div></div>
        <div class="nc" style="border-color:var(--orange);"><div class="nh2" style="background:var(--orange);">REPEAT n TIMES</div><div class="nb2">Runs exactly n times. The n can be an expression.<br><br><div class="code" style="font-size:.78rem;padding:8px;"><span class="kw">REPEAT</span> 5 <span class="kw">TIMES</span>
  <span class="kw">SEND</span> <span class="str">'*'</span> <span class="kw">TO DISPLAY</span>
<span class="kw">END REPEAT</span></div></div></div>
        <div class="nc" style="border-color:var(--purple);"><div class="nh2" style="background:var(--purple);">FOR ‚Ä¶ FROM ‚Ä¶ TO</div><div class="nb2">Count-controlled. Runs a fixed number of times with optional STEP.<br><br><div class="code" style="font-size:.78rem;padding:8px;"><span class="kw">FOR</span> i <span class="kw">FROM</span> 1 <span class="kw">TO</span> 10 <span class="kw">DO</span>
  <span class="kw">SEND</span> arr[i] <span class="kw">TO DISPLAY</span>
<span class="kw">END FOR</span></div></div></div>
        <div class="nc" style="border-color:var(--teal);"><div class="nh2" style="background:#059669;">FOR EACH ‚Ä¶ FROM</div><div class="nb2">Iterates over every element in an array automatically.<br><br><div class="code" style="font-size:.78rem;padding:8px;"><span class="kw">FOR EACH</span> word <span class="kw">FROM</span> words <span class="kw">DO</span>
  <span class="kw">SEND</span> word <span class="kw">TO DISPLAY</span>
<span class="kw">END FOREACH</span></div></div></div>
      </div>
      <div class="kp">üí° <strong>Which loop to use?</strong> WHILE = don't know how many times, condition might be false initially. REPEAT/UNTIL = must run at least once (e.g. asking user to re-enter invalid input). FOR = know exactly how many times. FOR EACH = process every element in an array.</div>

      <h4 class="sh" style="color:var(--purple);">üì¶ Subprograms (Procedures &amp; Functions)</h4>
      <p>When an algorithm is decomposed, each sub-problem is coded as a <strong>subprogram</strong> ‚Äî a self-contained block of code that can be called (used) whenever needed.</p>
      <div class="g2">
        <div>
          <div class="def" style="border-color:var(--blue);">
            <span class="def-lbl" style="background:var(--blue);">PROCEDURE ‚Äî performs a task, no return value</span>
            <div class="code" style="font-size:.82rem;"><span class="kw">PROCEDURE</span> <span class="va">CalcAverage</span>(m1, m2, m3)
<span class="kw">BEGIN PROCEDURE</span>
  <span class="kw">SET</span> avg <span class="kw">TO</span> (m1+m2+m3)/3
  <span class="kw">SEND</span> avg <span class="kw">TO DISPLAY</span>
<span class="kw">END PROCEDURE</span>

<span class="cm"># Call it:</span>
<span class="va">CalcAverage</span>(78, 85, 92)</div>
          </div>
        </div>
        <div>
          <div class="def" style="border-color:var(--coral);">
            <span class="def-lbl" style="background:var(--coral);">FUNCTION ‚Äî returns a value with RETURN</span>
            <div class="code" style="font-size:.82rem;"><span class="kw">FUNCTION</span> <span class="va">AddMarks</span>(m1, m2, m3)
<span class="kw">BEGIN FUNCTION</span>
  <span class="kw">SET</span> total <span class="kw">TO</span> m1 + m2 + m3
  <span class="kw">RETURN</span> total
<span class="kw">END FUNCTION</span>

<span class="cm"># Use the returned value:</span>
<span class="kw">SET</span> result <span class="kw">TO</span> <span class="va">AddMarks</span>(78, 85, 92)</div>
          </div>
        </div>
      </div>

      <h4 class="sh" style="color:var(--orange);">üîó The &amp; Append Operator</h4>
      <p>The <code>&amp;</code> operator joins strings together (concatenation). It also works to append to arrays. When joining a non-string with a string, the value is automatically converted to a string:</p>
      <div class="code"><span class="kw">SEND</span> <span class="str">'Fred'</span> &amp; age <span class="kw">TO DISPLAY</span>  <span class="cm"># displays 'Fred18' if age = 18</span>
<span class="kw">SET</span> fullName <span class="kw">TO</span> firstName &amp; <span class="str">' '</span> &amp; lastName</div>
    </div>
  </div>

  <!-- TOPIC 3 -->
  <div class="ns" id="n3">
    <div class="nh" onclick="toggleN('n3')" style="background:linear-gradient(135deg,var(--coral),#b01040);">
      <div class="nh-l"><span class="nnum">Topic 3</span><span class="ntitle">Sorting and Searching Algorithms</span></div>
      <span class="ntog">‚ñº</span>
    </div>
    <div class="nb">
      <p>Two of the most common tasks in computer programs are <strong>sorting</strong> data and <strong>searching</strong> for information. Without efficient algorithms, searching millions of items would be impossibly slow.</p>

      <h4 class="sh" style="color:var(--blue);">ü´ß Bubble Sort</h4>
      <div class="def" style="border-color:var(--blue);">
        <span class="def-lbl" style="background:var(--blue);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-b">Ascending order</strong> ‚Äî arranging items from smallest to largest (e.g. 1, 2, 3).<br>
        <strong class="hl-b">Descending order</strong> ‚Äî arranging items from largest to smallest (e.g. 3, 2, 1).<br>
        <strong class="hl-b">Traversal</strong> ‚Äî travel across or through something (a complete pass through the list).</p>
      </div>
      <p>Bubble sort starts at one end of the list and compares <strong>pairs</strong> of data items. If they are in the wrong order, they are <strong>swapped</strong>. After each pass, the largest item has "bubbled" to the end. The process repeats until a pass makes <strong>no swaps</strong> ‚Äî meaning the list is sorted.</p>

      <div class="kp">üí° <strong>Bubble Sort Algorithm (Ascending Order):</strong><br>
        1. Start at the beginning of the list.<br>
        2. Compare values in position 1 and 2 ‚Äî if not in ascending order, swap them.<br>
        3. Compare positions 2 and 3, swap if necessary.<br>
        4. Continue to the end of the list (= one pass).<br>
        5. If there have been any swaps, repeat from step 1.
      </div>

      <div class="eg">üìå Example: Sorting [4, 2, 6, 1, 3]<br>
        Pass 1: [2, 4, 1, 3, 6] ‚Äî 6 is now in final position<br>
        Pass 2: [2, 1, 3, 4, 6] ‚Äî 4 is now in final position<br>
        Pass 3: [1, 2, 3, 4, 6] ‚Äî no swaps ‚Üí SORTED! (computer needs pass 4 to confirm)</div>

      <div class="tip">‚úèÔ∏è <strong>Exam tip:</strong> Bubble sort uses <strong>brute force</strong> ‚Äî it just tries all pairs repeatedly. A computer needs one extra pass after the last swap to confirm no more swaps are needed (humans can see it's sorted by looking, computers can't!).</div>

      <h4 class="sh" style="color:var(--teal);">üîÄ Merge Sort</h4>
      <div class="def" style="border-color:var(--teal);">
        <span class="def-lbl" style="background:var(--teal);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-t">Recursion</strong> ‚Äî a process that is repeated; applying a method to the results of its previous application (e.g. repeatedly dividing a number by 2).</p>
      </div>
      <p>Merge sort uses a <strong>divide and conquer</strong> method. It repeatedly splits the list in half until each sub-list contains only one item (which is therefore sorted by default). Then it merges the sub-lists back together in the correct order.</p>

      <div class="kp">üí° <strong>Merge Sort ‚Äî Step-by-Step Method:</strong><br><br>
        <strong>Phase 1: SPLIT (Divide)</strong><br>
        1. Start with the full list.<br>
        2. Find the midpoint and split the list into a left half and a right half.<br>
        3. Repeat step 2 on each half (left splits further, right splits further).<br>
        4. Keep splitting until every sub-list contains exactly <strong>one item</strong>.<br>
        &nbsp;&nbsp;&nbsp;‚Üí A single item is always sorted (nothing to compare it to!)<br><br>
        <strong>Phase 2: MERGE (Conquer)</strong><br>
        5. Take two adjacent single-item sub-lists and merge them into one sorted sub-list:<br>
        &nbsp;&nbsp;&nbsp;‚Üí Compare the first items of each sub-list.<br>
        &nbsp;&nbsp;&nbsp;‚Üí Take the <strong>smaller item</strong> and place it in the merged list.<br>
        &nbsp;&nbsp;&nbsp;‚Üí Repeat until both sub-lists are empty.<br>
        6. Repeat step 5, merging pairs of sorted sub-lists into larger sorted sub-lists.<br>
        7. Continue until one fully sorted list remains.
      </div>

      <!-- Visual worked example -->
      <h4 class="sh" style="color:#059669;">üìã Worked Example: Merge Sort on [4, 2, 6, 1, 3]</h4>
      <div style="background:#f0faf5;border:2px solid #059669;border-radius:10px;padding:14px 18px;font-family:'Kalam',cursive;font-size:.88rem;line-height:2;">

        <div style="font-family:'Permanent Marker',cursive;color:#059669;margin-bottom:8px;">PHASE 1 ‚Äî SPLIT ‚Üì</div>

        <!-- Split tree using SVG-free nested divs -->
        <div style="text-align:center;">
          <div style="display:inline-block;background:#118ab2;color:white;border-radius:6px;padding:4px 14px;font-family:'Courier New',monospace;font-size:.85rem;margin-bottom:2px;">[ 4, 2, 6, 1, 3 ]</div>
          <div style="color:#888;font-size:.8rem;">‚Üô split at midpoint ‚Üò</div>
          <div style="display:flex;justify-content:center;gap:60px;margin-bottom:2px;">
            <div style="background:#118ab2;color:white;border-radius:6px;padding:4px 12px;font-family:'Courier New',monospace;font-size:.85rem;">[ 4, 2 ]</div>
            <div style="background:#118ab2;color:white;border-radius:6px;padding:4px 12px;font-family:'Courier New',monospace;font-size:.85rem;">[ 6, 1, 3 ]</div>
          </div>
          <div style="display:flex;justify-content:center;gap:18px;color:#888;font-size:.8rem;margin-bottom:2px;">
            <span style="width:80px;text-align:center;">‚Üô ‚Üò</span>
            <span style="width:120px;text-align:center;">‚Üô ‚Üò</span>
          </div>
          <div style="display:flex;justify-content:center;gap:18px;margin-bottom:2px;">
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 4 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 2 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 6 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 1, 3 ]</div>
          </div>
          <div style="display:flex;justify-content:center;gap:18px;color:#888;font-size:.8rem;margin-bottom:2px;">
            <span style="width:50px;"></span><span style="width:50px;"></span><span style="width:50px;"></span>
            <span style="width:80px;text-align:center;">‚Üô ‚Üò</span>
          </div>
          <div style="display:flex;justify-content:center;gap:18px;margin-bottom:10px;">
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 4 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 2 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 6 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 1 ]</div>
            <div style="background:#059669;color:white;border-radius:6px;padding:4px 10px;font-family:'Courier New',monospace;font-size:.85rem;">[ 3 ]</div>
          </div>
          <div style="font-family:'Kalam',cursive;font-size:.78rem;color:#059669;margin-bottom:14px;">‚Üë All single items ‚Äî each is trivially sorted ‚úÖ</div>

          <div style="font-family:'Permanent Marker',cursive;color:var(--coral);margin-bottom:8px;">PHASE 2 ‚Äî MERGE ‚Üë</div>

          <div style="background:#fff3e0;border-left:4px solid var(--orange);border-radius:6px;padding:10px 14px;text-align:left;margin-bottom:10px;font-family:'Kalam',cursive;font-size:.85rem;">
            <strong>Step 1: Merge [4] and [2]</strong><br>
            Compare 4 vs 2 ‚Üí 2 is smaller, take 2. ‚Üí Take 4.<br>
            Result: <span style="font-family:'Courier New',monospace;background:#d0f5e8;padding:2px 6px;border-radius:4px;">[ 2, 4 ]</span>
          </div>

          <div style="background:#fff3e0;border-left:4px solid var(--orange);border-radius:6px;padding:10px 14px;text-align:left;margin-bottom:10px;font-family:'Kalam',cursive;font-size:.85rem;">
            <strong>Step 2: Merge [1] and [3]</strong><br>
            Compare 1 vs 3 ‚Üí 1 is smaller, take 1. ‚Üí Take 3.<br>
            Result: <span style="font-family:'Courier New',monospace;background:#d0f5e8;padding:2px 6px;border-radius:4px;">[ 1, 3 ]</span>
          </div>

          <div style="background:#fff3e0;border-left:4px solid var(--orange);border-radius:6px;padding:10px 14px;text-align:left;margin-bottom:10px;font-family:'Kalam',cursive;font-size:.85rem;">
            <strong>Step 3: Merge [6] and [1, 3]</strong><br>
            Compare 6 vs 1 ‚Üí 1 is smaller, take 1.<br>
            Compare 6 vs 3 ‚Üí 3 is smaller, take 3.<br>
            6 is the only item left, take 6.<br>
            Result: <span style="font-family:'Courier New',monospace;background:#d0f5e8;padding:2px 6px;border-radius:4px;">[ 1, 3, 6 ]</span>
          </div>

          <div style="background:#e0faf5;border-left:4px solid #059669;border-radius:6px;padding:10px 14px;text-align:left;margin-bottom:10px;font-family:'Kalam',cursive;font-size:.85rem;">
            <strong>Step 4: Final merge ‚Äî [2, 4] and [1, 3, 6]</strong><br>
            Compare 2 vs 1 ‚Üí take 1.<br>
            Compare 2 vs 3 ‚Üí take 2.<br>
            Compare 4 vs 3 ‚Üí take 3.<br>
            Compare 4 vs 6 ‚Üí take 4.<br>
            6 is the only item left, take 6.<br>
            <strong>Final result: <span style="font-family:'Courier New',monospace;background:#059669;color:white;padding:2px 8px;border-radius:4px;">[ 1, 2, 3, 4, 6 ]</span> ‚úÖ Sorted!</strong>
          </div>
        </div>
      </div>

      <div class="g2" style="margin-top:14px;">
        <div class="nc" style="border-color:var(--blue);">
          <div class="nh2" style="background:var(--blue);">üê¢ Bubble Sort</div>
          <div class="nb2"><strong>Type:</strong> Brute force<br><strong>Speed:</strong> Slow for large lists<br><strong>Advantage:</strong> Easy to code; fine for &lt;1000 items<br><strong>When to use:</strong> Small lists or quick tasks</div>
        </div>
        <div class="nc" style="border-color:#059669;">
          <div class="nh2" style="background:#059669;">üêá Merge Sort</div>
          <div class="nb2"><strong>Type:</strong> Divide &amp; conquer<br><strong>Speed:</strong> Much faster for large lists<br><strong>Advantage:</strong> Highly efficient at scale<br><strong>When to use:</strong> Large lists (&gt;1000 items)</div>
        </div>
      </div>

      <h4 class="sh" style="color:var(--orange);">üîé Linear Search</h4>
      <p>A linear search is <strong>sequential</strong> ‚Äî it starts at the beginning of the list and goes through it item by item until it finds the target or reaches the end.</p>
      <div class="kp">üí° <strong>Linear Search Steps:</strong><br>
        1. Start at the first item.<br>
        2. Compare item with the search target.<br>
        3. If same ‚Üí stop (found!).<br>
        4. If not ‚Üí move to the next item.<br>
        5. Repeat 2‚Äì4 until end of list reached.
      </div>
      <div class="eg">For a list of 1000 items: Best case = 1 comparison (item is first). Worst case = 1000 comparisons (item is last). Average = 500 comparisons.</div>

      <h4 class="sh" style="color:var(--purple);">‚ö° Binary Search</h4>
      <div class="def" style="border-color:var(--purple);">
        <span class="def-lbl" style="background:var(--purple);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-p">Median</strong> ‚Äî the middle number when items are in order. If there is an even number of items, the median is the mean of the middle two. In binary search, the higher of the two is chosen.</p>
      </div>
      <p>Binary search uses <strong>divide and conquer</strong>. The <strong>list must be sorted</strong> for binary search to work. It repeatedly selects the median item:</p>
      <div class="kp">üí° <strong>Binary Search Steps (Ascending Order):</strong><br>
        1. Select the median item of the list.<br>
        2. If median = search item ‚Üí stop (found!).<br>
        3. If median is too high ‚Üí repeat with left sub-list.<br>
        4. If median is too low ‚Üí repeat with right sub-list.<br>
        5. Repeat until item found or all items checked.
      </div>
      <div class="eg">üìå Searching for 13 in [3, 13, 24, 27, 31, 39, 45, 60, 69]:<br>
        Attempt 1: Median = 31 (too high) ‚Üí search left half<br>
        Attempt 2: Median = 24 (too high) ‚Üí search left again<br>
        Attempt 3: Median = 13 ‚úÖ Found!</div>

      <!-- ‚îÄ‚îÄ ADVANTAGES / DISADVANTAGES TABLES ‚îÄ‚îÄ -->
      <h4 class="sh" style="color:var(--ink);">‚öñÔ∏è Advantages &amp; Disadvantages of All 4 Algorithms</h4>

      <div class="g2">
        <!-- Bubble Sort -->
        <div style="border:2px solid var(--blue);border-radius:10px;overflow:hidden;">
          <div style="background:var(--blue);color:white;padding:8px 14px;font-family:'Permanent Marker',cursive;font-size:.92rem;">üê¢ Bubble Sort</div>
          <table class="ot" style="margin:0;border-radius:0;">
            <tr><th style="background:#d0eaff;color:var(--blue);width:50%;">‚úÖ Advantages</th><th style="background:#fce4ec;color:var(--coral);width:50%;">‚ùå Disadvantages</th></tr>
            <tr>
              <td>Simple to understand and easy to code ‚Äî good for beginners</td>
              <td>Slow on large lists ‚Äî must make many passes through the whole list</td>
            </tr>
            <tr>
              <td>Works on unsorted lists without any preparation</td>
              <td>Inefficient: worst case requires n√ó(n-1)/2 comparisons</td>
            </tr>
            <tr>
              <td>Can detect a sorted list quickly (stops if no swaps in a pass)</td>
              <td>Not suitable for large datasets (&gt;1,000 items)</td>
            </tr>
            <tr>
              <td>Uses very little extra memory (sorts <em>in place</em>)</td>
              <td>Much slower than merge sort for the same data</td>
            </tr>
          </table>
        </div>

        <!-- Merge Sort -->
        <div style="border:2px solid #059669;border-radius:10px;overflow:hidden;">
          <div style="background:#059669;color:white;padding:8px 14px;font-family:'Permanent Marker',cursive;font-size:.92rem;">üêá Merge Sort</div>
          <table class="ot" style="margin:0;border-radius:0;">
            <tr><th style="background:#d0f5e8;color:#059669;width:50%;">‚úÖ Advantages</th><th style="background:#fce4ec;color:var(--coral);width:50%;">‚ùå Disadvantages</th></tr>
            <tr>
              <td>Much faster on large lists ‚Äî far fewer comparisons needed</td>
              <td>More complex to understand and harder to code</td>
            </tr>
            <tr>
              <td>Consistent performance ‚Äî works efficiently regardless of the starting order</td>
              <td>Requires additional memory to store the split sub-lists</td>
            </tr>
            <tr>
              <td>Ideal for large datasets (&gt;1,000 items)</td>
              <td>Overkill for very small lists where bubble sort would do</td>
            </tr>
            <tr>
              <td>Uses divide and conquer ‚Äî sub-lists can be processed in parallel</td>
              <td>Uses recursion, which can be harder to trace/debug</td>
            </tr>
          </table>
        </div>

        <!-- Linear Search -->
        <div style="border:2px solid var(--orange);border-radius:10px;overflow:hidden;">
          <div style="background:var(--orange);color:white;padding:8px 14px;font-family:'Permanent Marker',cursive;font-size:.92rem;">üîé Linear Search</div>
          <table class="ot" style="margin:0;border-radius:0;">
            <tr><th style="background:#fff3d0;color:var(--orange);width:50%;">‚úÖ Advantages</th><th style="background:#fce4ec;color:var(--coral);width:50%;">‚ùå Disadvantages</th></tr>
            <tr>
              <td>Works on both sorted <em>and</em> unsorted lists ‚Äî no preparation needed</td>
              <td>Slow on large lists ‚Äî may need to check every single item</td>
            </tr>
            <tr>
              <td>Simple to code and easy to understand</td>
              <td>Worst case: must check all n items (e.g. 1000 comparisons for 1000 items)</td>
            </tr>
            <tr>
              <td>Efficient if the list is small or the item is near the beginning</td>
              <td>Inefficient if the list is large and the item is near the end or absent</td>
            </tr>
            <tr>
              <td>Good when you only need to search once (no need to sort first)</td>
              <td>Much less efficient than binary search for large sorted lists</td>
            </tr>
          </table>
        </div>

        <!-- Binary Search -->
        <div style="border:2px solid var(--purple);border-radius:10px;overflow:hidden;">
          <div style="background:var(--purple);color:white;padding:8px 14px;font-family:'Permanent Marker',cursive;font-size:.92rem;">‚ö° Binary Search</div>
          <table class="ot" style="margin:0;border-radius:0;">
            <tr><th style="background:#ede0ff;color:var(--purple);width:50%;">‚úÖ Advantages</th><th style="background:#fce4ec;color:var(--coral);width:50%;">‚ùå Disadvantages</th></tr>
            <tr>
              <td>Very efficient on large lists ‚Äî worst case is only log‚ÇÇ(n) comparisons</td>
              <td>List <strong>must be sorted first</strong> ‚Äî cannot be used on an unsorted list</td>
            </tr>
            <tr>
              <td>For 1,000 items: max 10 comparisons vs 1,000 for linear search</td>
              <td>Sorting the list first takes extra time and processing</td>
            </tr>
            <tr>
              <td>Scales extremely well ‚Äî doubling the list only adds one more comparison</td>
              <td>More complex to code than linear search</td>
            </tr>
            <tr>
              <td>Ideal when searching the same large list many times</td>
              <td>If items are constantly added/removed, list must be re-sorted each time</td>
            </tr>
          </table>
        </div>
      </div>

      <div class="tip">‚úèÔ∏è <strong>Exam tip ‚Äî picking the right algorithm:</strong> A question may ask <em>which</em> algorithm is best in a given scenario. Key decision factors: <strong>Is the list sorted?</strong> (binary needs sorted, linear doesn't) ¬∑ <strong>How big is the list?</strong> (merge/binary win on large) ¬∑ <strong>How many times will it be searched?</strong> (if once, linear may be better to avoid sorting cost) ¬∑ <strong>How often is data added/removed?</strong> (frequent changes favour linear).</div>

      <div class="tip">‚úèÔ∏è <strong>Exam tip ‚Äî merge sort:</strong> In the exam you may be asked to <em>trace</em> a merge sort on a small list. Use the step-by-step method above ‚Äî split DOWN to single items first, then merge back UP comparing pairs. Show your working clearly in two phases: <strong>SPLIT</strong> and <strong>MERGE</strong>.</div>
    </div>
  </div>

  <!-- TOPIC 4 -->
  <div class="ns" id="n4">
    <div class="nh" onclick="toggleN('n4')" style="background:linear-gradient(135deg,var(--green),#1a4a30);">
      <div class="nh-l"><span class="nnum">Topic 4</span><span class="ntitle">Decomposition and Abstraction</span></div>
      <span class="ntog">‚ñº</span>
    </div>
    <div class="nb">
      <p>Computer scientists approach problems using <strong>computational thinking</strong> ‚Äî a set of thought processes used to formulate problems and their solutions so that a computer can carry them out.</p>
      <div class="def" style="border-color:var(--green);">
        <span class="def-lbl" style="background:var(--green);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-t">Computational thinking</strong> ‚Äî the thought processes involved in formulating problems and their solutions so they can be carried out by a computer.<br><br>
        <strong class="hl-t">Decomposition</strong> ‚Äî breaking a problem down into smaller, more manageable parts, which are then easier to solve.<br><br>
        <strong class="hl-t">Abstraction</strong> ‚Äî the process of removing or hiding unnecessary detail so that only the important points remain.</p>
      </div>

      <h4 class="sh" style="color:var(--green);">üîß Decomposition</h4>
      <p>Decomposition is usually the <strong>first step</strong> in problem solving. Once a problem is broken into sub-problems, algorithms can be developed for each.</p>
      <div class="kp">üí° <strong>Benefits of Decomposition:</strong><br>
        ‚Ä¢ Sub-problems can be worked on by different teams <strong>at the same time</strong>.<br>
        ‚Ä¢ Easier to spot and correct errors in smaller pieces.<br>
        ‚Ä¢ Code can be reused (via <strong>subprograms</strong>) when the same sub-problem appears again.
      </div>
      <div class="eg">üìå Example: Decomposing a noughts &amp; crosses game:<br>
        1. Design of interface (3√ó3 grid)<br>
        2. Track which squares have been selected<br>
        3. Computer AI ‚Äî decide which square to select<br>
        4. Check when game is over and who won</div>

      <h4 class="sh" style="color:var(--pink);">üé≠ Abstraction</h4>
      <p>Abstraction means removing unnecessary detail and keeping only what's essential. We use it constantly in daily life ‚Äî when someone says "I saw a cat", you don't need to know its exact breed, weight, or colour to understand the sentence.</p>
      <div class="def" style="border-color:var(--pink);">
        <span class="def-lbl" style="background:var(--pink);">GENERAL VOCABULARY</span>
        <p><strong>Model</strong> ‚Äî a simple version of something that shows how it works. Abstraction is used to build models.</p>
      </div>
      <div class="eg">üìå Example: Modelling a die in a computer game:<br>
        Real die has: colour, weight, texture, pip markings, exact size‚Ä¶<br>
        Abstract model: a routine that selects a <strong>random number from 1 to 6</strong>.<br>
        All the unnecessary physical details are removed ‚Äî only the function matters!</div>

      <h4 class="sh" style="color:var(--blue);">üìê Levels of Abstraction</h4>
      <p>The higher the level of abstraction, the less detail is required:</p>
      <div class="g3">
        <div class="nc" style="border-color:var(--blue);"><div class="nh2" style="background:var(--blue);">High Level</div><div class="nb2">High-level programming languages (Python, Java) ‚Äî very far from machine code. A programmer just writes <code>print()</code> without knowing HOW the text appears on screen.</div></div>
        <div class="nc" style="border-color:var(--orange);"><div class="nh2" style="background:var(--orange);">Mid Level</div><div class="nb2">Algorithm / pseudocode ‚Äî abstract description of the solution. Defines inputs, outputs, processing. No implementation details yet.</div></div>
        <div class="nc" style="border-color:var(--coral);"><div class="nh2" style="background:var(--coral);">Low Level</div><div class="nb2">Machine code ‚Äî streams of 1s and 0s. The processor executes this. A translator (compiler/interpreter) converts high-level code to machine code.</div></div>
      </div>

      <h4 class="sh" style="color:var(--purple);">üì¶ Subprograms</h4>
      <div class="def" style="border-color:var(--purple);">
        <span class="def-lbl" style="background:var(--purple);">SUBJECT VOCABULARY</span>
        <p><strong class="hl-p">Subprogram</strong> ‚Äî a self-contained module of code that performs a specific task. It can be 'called' by the main program whenever it is needed.</p>
      </div>
      <p>When an algorithm is decomposed and coded, each sub-problem becomes a subprogram. The same subprogram can be called multiple times without rewriting the code. For example, in a quiz game:</p>
      <div class="li"><span class="dot" style="background:var(--purple);">1</span><div><strong>'spin wheel'</strong> ‚Äî selects a random colour</div></div>
      <div class="li"><span class="dot" style="background:var(--purple);">2</span><div><strong>'check answer'</strong> ‚Äî validates the player's response</div></div>
      <div class="li"><span class="dot" style="background:var(--purple);">3</span><div><strong>'update score'</strong> ‚Äî adds 2 points (first attempt) or 1 point (second attempt)</div></div>

      <h4 class="sh" style="color:var(--green);">üß© Analysing a Problem: Inputs, Outputs &amp; Processing</h4>
      <p>When designing a solution, always identify:</p>
      <div class="g3">
        <div class="nc" style="border-color:var(--teal);"><div class="nh2" style="background:#059669;">üì• Inputs</div><div class="nb2">What data goes in? e.g. player's name, answer to question, which square to select, start game signal</div></div>
        <div class="nc" style="border-color:var(--coral);"><div class="nh2" style="background:var(--coral);">üì§ Outputs</div><div class="nb2">What does the program display? e.g. current score, "your turn" message, "square already taken" warning, winner announcement</div></div>
        <div class="nc" style="border-color:var(--orange);"><div class="nh2" style="background:var(--orange);">‚öôÔ∏è Processing</div><div class="nb2">What calculations/decisions happen? e.g. validate input, calculate total cost, check winning condition, loop until game ends</div></div>
      </div>

      <div class="tip">‚úèÔ∏è <strong>Exam tip:</strong> Decomposition and abstraction are part of <strong>computational thinking</strong>. In the exam, you may be asked to identify inputs/outputs/processing, decompose a problem into sub-problems, or explain what abstraction means with an example. Always say abstraction = "removing unnecessary detail".</div>
    </div>
  </div>

</div><!-- end notes -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     ACTIVITIES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp" id="tp-act">

<!-- ‚îÄ‚îÄ‚îÄ ACT 1: FLOWCHART CANVAS ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a1">
  <div class="act-hdr" onclick="toggleA('a1')" style="background:linear-gradient(135deg,var(--coral),#b01040);">
    <span style="font-size:1.4rem;">üî∑</span>
    <span class="act-title">Activity 2 &amp; 3 (p.6‚Äì7): Build a Flowchart ‚Äî Drag &amp; Drop</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">From the textbook Activity 3: The written algorithm for preparing a bath is: <strong>(1) Put in the plug. (2) Fill the bath to the correct level. (3) Check the temperature is OK.</strong><br><br>
    Drag symbols from the palette onto the canvas. <strong>Click</strong> a shape to select it, then <strong>double-click</strong> to edit its label. To draw an arrow, <strong>drag the orange ‚ûú handle</strong> that appears on a selected shape and drop it onto another shape. Click <strong>Delete selected</strong> to remove a shape, or right-click an arrow to delete it.</p>

    <div class="fc-toolbar">
      <button class="fc-btn fc-btn-del" onclick="deleteSel()">üóë Delete selected</button>
      <button class="fc-btn fc-btn-clear" onclick="clearFC()">üßπ Clear All</button>
      <button class="btn btn-t" style="padding:6px 14px;" onclick="gradeFC()">‚úÖ Auto-Check</button>
      <button class="btn btn-b" style="padding:6px 14px;" onclick="showFCSoln()">üëÅ Model Answer</button>
    </div>

    <div class="fc-wrap">
      <div class="fc-pal">
        <div class="fc-pal-title">üé® Symbols</div>
        <div class="fc-sym" draggable="true" ondragstart="pDrag(event,'oval')">
          <svg width="86" height="38"><ellipse cx="43" cy="19" rx="40" ry="16" fill="#e0f7f2" stroke="#2d6a4f" stroke-width="2.5"/><text x="43" y="24" font-size="10" text-anchor="middle" fill="#2d6a4f" font-family="Patrick Hand,sans-serif">Start/End</text></svg>
          <span>Start / End</span>
        </div>
        <div class="fc-sym" draggable="true" ondragstart="pDrag(event,'rect')">
          <svg width="86" height="38"><rect x="4" y="5" width="78" height="28" rx="2" fill="#e3f2fd" stroke="#118ab2" stroke-width="2.5"/><text x="43" y="24" font-size="10" text-anchor="middle" fill="#118ab2" font-family="Patrick Hand,sans-serif">Process</text></svg>
          <span>Process</span>
        </div>
        <div class="fc-sym" draggable="true" ondragstart="pDrag(event,'diamond')">
          <svg width="86" height="52"><polygon points="43,4 82,26 43,48 4,26" fill="#fce4ec" stroke="#ef476f" stroke-width="2.5"/><text x="43" y="30" font-size="10" text-anchor="middle" fill="#ef476f" font-family="Patrick Hand,sans-serif">Decision?</text></svg>
          <span>Decision</span>
        </div>
        <div class="fc-sym" draggable="true" ondragstart="pDrag(event,'para')">
          <svg width="86" height="38"><polygon points="16,5 82,5 70,33 4,33" fill="#fff3e0" stroke="#f77f00" stroke-width="2.5"/><text x="43" y="24" font-size="10" text-anchor="middle" fill="#f77f00" font-family="Patrick Hand,sans-serif">Input/Out</text></svg>
          <span>Input / Output</span>
        </div>
        <div style="margin-top:12px;padding:8px;background:#f0f0f0;border-radius:6px;font-family:'Kalam',cursive;font-size:.73rem;color:#666;line-height:1.55;">
          üí° <strong>Tip:</strong> Drag shapes onto canvas. Click a shape to select, then <strong>double-click to edit label</strong>. Drag the <strong>orange ‚ûú arrow</strong> on a shape to another shape to connect them.
        </div>
      </div>

      <div class="fc-canvas-area">
        <div class="fc-canvas" id="fcC" ondragover="event.preventDefault()" ondrop="cDrop(event)">
          <div class="fc-hint" id="fcHint">‚¨Ü Drag symbols here<br>to build your flowchart</div>
          <svg id="arrowSVG" style="position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:5;overflow:visible;"></svg>
        </div>
      </div>
    </div>

    <div class="fc-grade" id="fcGrade"></div>
    <div class="fc-soln" id="fcSoln">
      <strong style="font-family:'Permanent Marker',cursive;color:var(--blue);display:block;margin-bottom:10px;">‚úÖ Model Bath Flowchart (Activity 3)</strong>
      <svg viewBox="0 0 240 580" style="max-width:240px;width:100%;display:block;margin:0 auto;font-family:'Patrick Hand',sans-serif;">
        <defs><marker id="arM" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto"><path d="M0,0 L0,6 L8,3z" fill="#1a1a2e"/></marker></defs>
        <!-- Start -->
        <ellipse cx="120" cy="30" rx="55" ry="22" fill="#e0f7f2" stroke="#059669" stroke-width="2"/>
        <text x="120" y="35" font-size="12" text-anchor="middle" fill="#059669" font-weight="bold">Start</text>
        <line x1="120" y1="52" x2="120" y2="76" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <!-- Put in plug -->
        <rect x="60" y="78" width="120" height="36" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="2"/>
        <text x="120" y="100" font-size="11" text-anchor="middle" fill="#118ab2">Put in the plug</text>
        <line x1="120" y1="114" x2="120" y2="138" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <!-- Turn on tap -->
        <rect x="60" y="140" width="120" height="36" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="2"/>
        <text x="120" y="162" font-size="11" text-anchor="middle" fill="#118ab2">Turn on tap</text>
        <line x1="120" y1="176" x2="120" y2="200" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <!-- Is level OK? -->
        <polygon points="120,202 180,228 120,254 60,228" fill="#fce4ec" stroke="#ef476f" stroke-width="2"/>
        <text x="120" y="225" font-size="10" text-anchor="middle" fill="#ef476f">Bath level</text>
        <text x="120" y="238" font-size="10" text-anchor="middle" fill="#ef476f">correct?</text>
        <text x="186" y="225" font-size="9" fill="#059669">YES</text>
        <text x="32" y="238" font-size="9" fill="#ef476f">NO</text>
        <!-- NO loops back -->
        <line x1="60" y1="228" x2="20" y2="228" stroke="#ef476f" stroke-width="2"/>
        <line x1="20" y1="228" x2="20" y2="158" stroke="#ef476f" stroke-width="2"/>
        <line x1="20" y1="158" x2="60" y2="158" stroke="#ef476f" stroke-width="2" marker-end="url(#arM)"/>
        <!-- YES ‚Üí Turn off tap -->
        <line x1="180" y1="228" x2="210" y2="228" stroke="#1a1a2e" stroke-width="2"/>
        <line x1="210" y1="228" x2="210" y2="290" stroke="#1a1a2e" stroke-width="2"/>
        <line x1="210" y1="290" x2="180" y2="290" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <rect x="60" y="272" width="120" height="36" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="2"/>
        <text x="120" y="294" font-size="11" text-anchor="middle" fill="#118ab2">Turn off tap</text>
        <line x1="120" y1="308" x2="120" y2="332" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <!-- Is temp OK? -->
        <polygon points="120,334 180,360 120,386 60,360" fill="#fce4ec" stroke="#ef476f" stroke-width="2"/>
        <text x="120" y="357" font-size="10" text-anchor="middle" fill="#ef476f">Temperature</text>
        <text x="120" y="370" font-size="10" text-anchor="middle" fill="#ef476f">OK?</text>
        <text x="186" y="358" font-size="9" fill="#059669">YES</text>
        <text x="32" y="372" font-size="9" fill="#ef476f">NO</text>
        <line x1="60" y1="360" x2="28" y2="360" stroke="#ef476f" stroke-width="2"/>
        <line x1="28" y1="360" x2="28" y2="440" stroke="#ef476f" stroke-width="2"/>
        <rect x="28" y="440" width="80" height="32" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="1.5"/>
        <text x="68" y="458" font-size="9.5" text-anchor="middle" fill="#118ab2">Adjust hot/cold</text>
        <line x1="68" y1="440" x2="68" y2="360" stroke="#ef476f" stroke-width="2" marker-end="url(#arM)"/>
        <!-- YES ‚Üí Get in -->
        <line x1="120" y1="386" x2="120" y2="410" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <rect x="60" y="412" width="120" height="36" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="2"/>
        <text x="120" y="434" font-size="11" text-anchor="middle" fill="#118ab2">Get in bath</text>
        <line x1="120" y1="448" x2="120" y2="472" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arM)"/>
        <!-- End -->
        <ellipse cx="120" cy="494" rx="55" ry="22" fill="#e0f7f2" stroke="#059669" stroke-width="2"/>
        <text x="120" y="499" font-size="12" text-anchor="middle" fill="#059669" font-weight="bold">End</text>
      </svg>
      <p style="font-family:'Kalam',cursive;font-size:.85rem;color:#555;margin-top:10px;">Note how: iteration is shown by the NO arrows looping back. Two decisions check (1) water level and (2) temperature.</p>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 2: WRITTEN DESCRIPTION ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a2">
  <div class="act-hdr" onclick="toggleA('a2')" style="background:linear-gradient(135deg,var(--blue),#0d6efd);">
    <span style="font-size:1.4rem;">‚úçÔ∏è</span>
    <span class="act-title">Activity 6 (p.10): Write a Description from a Flowchart</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">The flowchart below (Figure 1.5 from the textbook) shows a login algorithm. Produce a <strong>written description</strong> of this algorithm in plain English steps.</p>
    <div class="g2" style="align-items:start;">
      <div>
        <svg viewBox="0 0 200 460" style="max-width:200px;width:100%;display:block;margin:0 auto;font-family:'Patrick Hand',sans-serif;">
          <defs><marker id="ar2" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto"><path d="M0,0 L0,6 L8,3z" fill="#1a1a2e"/></marker></defs>
          <ellipse cx="100" cy="28" rx="50" ry="20" fill="#e0f7f2" stroke="#059669" stroke-width="2"/>
          <text x="100" y="33" font-size="11" text-anchor="middle" fill="#059669" font-weight="bold">Start</text>
          <line x1="100" y1="48" x2="100" y2="70" stroke="#1a1a2e" stroke-width="2" marker-end="url(#ar2)"/>
          <polygon points="100,72 150,95 100,118 50,95" fill="#fff3e0" stroke="#f77f00" stroke-width="2"/>
          <text x="100" y="99" font-size="10" text-anchor="middle" fill="#f77f00">Input</text>
          <text x="100" y="111" font-size="10" text-anchor="middle" fill="#f77f00">username</text>
          <line x1="100" y1="118" x2="100" y2="140" stroke="#1a1a2e" stroke-width="2" marker-end="url(#ar2)"/>
          <polygon points="100,142 155,168 100,194 45,168" fill="#fce4ec" stroke="#ef476f" stroke-width="2"/>
          <text x="100" y="165" font-size="10" text-anchor="middle" fill="#ef476f">Does</text>
          <text x="100" y="178" font-size="10" text-anchor="middle" fill="#ef476f">username exist?</text>
          <text x="160" y="165" font-size="9" fill="#059669">YES</text>
          <text x="10" y="175" font-size="9" fill="#ef476f">NO</text>
          <line x1="45" y1="168" x2="10" y2="168" stroke="#ef476f" stroke-width="2"/>
          <line x1="10" y1="168" x2="10" y2="95" stroke="#ef476f" stroke-width="2"/>
          <line x1="10" y1="95" x2="50" y2="95" stroke="#ef476f" stroke-width="2" marker-end="url(#ar2)"/>
          <line x1="100" y1="194" x2="100" y2="216" stroke="#1a1a2e" stroke-width="2" marker-end="url(#ar2)"/>
          <polygon points="100,218 150,241 100,264 50,241" fill="#fff3e0" stroke="#f77f00" stroke-width="2"/>
          <text x="100" y="245" font-size="10" text-anchor="middle" fill="#f77f00">Input</text>
          <text x="100" y="257" font-size="10" text-anchor="middle" fill="#f77f00">password</text>
          <line x1="100" y1="264" x2="100" y2="286" stroke="#1a1a2e" stroke-width="2" marker-end="url(#ar2)"/>
          <polygon points="100,288 160,314 100,340 40,314" fill="#fce4ec" stroke="#ef476f" stroke-width="2"/>
          <text x="100" y="311" font-size="10" text-anchor="middle" fill="#ef476f">Is password</text>
          <text x="100" y="324" font-size="10" text-anchor="middle" fill="#ef476f">correct?</text>
          <text x="165" y="310" font-size="9" fill="#059669">YES</text>
          <text x="10" y="322" font-size="9" fill="#ef476f">NO</text>
          <line x1="40" y1="314" x2="10" y2="314" stroke="#ef476f" stroke-width="2"/>
          <line x1="10" y1="314" x2="10" y2="241" stroke="#ef476f" stroke-width="2"/>
          <line x1="10" y1="241" x2="50" y2="241" stroke="#ef476f" stroke-width="2" marker-end="url(#ar2)"/>
          <line x1="100" y1="340" x2="100" y2="360" stroke="#1a1a2e" stroke-width="2" marker-end="url(#ar2)"/>
          <ellipse cx="100" cy="382" rx="50" ry="20" fill="#e0f7f2" stroke="#059669" stroke-width="2"/>
          <text x="100" y="387" font-size="11" text-anchor="middle" fill="#059669" font-weight="bold">End</text>
        </svg>
        <p style="font-family:'Caveat',cursive;font-size:.85rem;text-align:center;color:#777;margin-top:6px;">Figure 1.5 ‚Äî Login Flowchart</p>
      </div>
      <div>
        <div class="act-label" style="color:var(--blue);">‚úçÔ∏è Your Written Description</div>
        <textarea class="wd-area" id="wdInput" placeholder="Write your description here...&#10;&#10;Step 1: ...&#10;Step 2: ...&#10;(continue for all steps)"></textarea>
        <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;">
          <button class="btn btn-t" onclick="checkWD()">‚úÖ Check Keywords</button>
          <button class="btn btn-b" onclick="showWDAnswer()">üëÅ Model Answer</button>
          <button class="btn" onclick="document.getElementById('wdInput').value='';document.getElementById('wdFB').className='result-pop';">üîÑ Clear</button>
        </div>
        <div class="result-pop" id="wdFB"></div>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 3: OPERATORS CHALLENGE ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a3">
  <div class="act-hdr" onclick="toggleA('a3')" style="background:linear-gradient(135deg,var(--orange),#b25400);">
    <span style="font-size:1.4rem;">‚ûï</span>
    <span class="act-title">Arithmetic Operators ‚Äî Calculate &amp; Check (Table 1.1)</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">Calculate the result of each expression. Type your answer and press Enter or Tab ‚Äî answers are auto-graded!</p>
    <div id="opGrid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px;margin:10px 0;"></div>
    <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;">
      <button class="btn btn-t" onclick="checkOps()">‚úÖ Check All</button>
      <button class="btn btn-b" onclick="revealOps()">üëÅ Reveal Answers</button>
      <button class="btn" onclick="resetOps()">üîÑ Reset</button>
      <span id="opScore" style="font-family:'Caveat',cursive;font-size:1.1rem;font-weight:700;color:var(--blue);line-height:2.2;"></span>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 4: TRACE TABLE (grades algo) ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a4">
  <div class="act-hdr" onclick="toggleA('a4')" style="background:linear-gradient(135deg,var(--purple),#4a0e6e);">
    <span style="font-size:1.4rem;">üìä</span>
    <span class="act-title">Activity 8 (p.13): Trace Table ‚Äî Grades Algorithm</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">The textbook asks: <em>"What would be the output of this algorithm for test scores 91, 56 and 78?"</em> Complete the trace table for the Calculating Grades algorithm. Fill every cell ‚Äî write N/A or ‚Äî if a condition is not evaluated.</p>
    <div class="code" style="margin-bottom:14px;font-size:.82rem;"><span class="kw">RECEIVE</span> <span class="va">testScore</span> <span class="kw">FROM KEYBOARD</span>
<span class="kw">IF</span> <span class="va">testScore</span> >= 80 <span class="kw">THEN</span>  ‚Üí  <span class="kw">SEND</span> <span class="str">'A'</span>
<span class="kw">ELSE IF</span> <span class="va">testScore</span> >= 70 <span class="kw">THEN</span>  ‚Üí  <span class="kw">SEND</span> <span class="str">'B'</span>
<span class="kw">ELSE IF</span> <span class="va">testScore</span> >= 60 <span class="kw">THEN</span>  ‚Üí  <span class="kw">SEND</span> <span class="str">'C'</span>
<span class="kw">ELSE IF</span> <span class="va">testScore</span> > 0 <span class="kw">THEN</span>  ‚Üí  <span class="kw">SEND</span> <span class="str">'D'</span>
<span class="kw">ELSE</span>  ‚Üí  <span class="kw">SEND</span> <span class="str">'FAIL'</span></div>
    <div class="trace-wrap">
      <table class="trace-tbl" id="trace1">
        <thead>
          <tr>
            <th>testScore</th>
            <th>‚â• 80?</th>
            <th>‚â• 70?</th>
            <th>‚â• 60?</th>
            <th>&gt; 0?</th>
            <th>OUTPUT</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="given">91</td>
            <td><input class="ti" data-ans="TRUE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="N/A" placeholder="‚Äî"></td>
            <td><input class="ti" data-ans="N/A" placeholder="‚Äî"></td>
            <td><input class="ti" data-ans="N/A" placeholder="‚Äî"></td>
            <td><input class="ti" data-ans="A" placeholder="?"></td>
          </tr>
          <tr>
            <td class="given">56</td>
            <td><input class="ti" data-ans="FALSE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="FALSE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="FALSE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="TRUE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="D" placeholder="?"></td>
          </tr>
          <tr>
            <td class="given">78</td>
            <td><input class="ti" data-ans="FALSE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="TRUE" placeholder="T/F"></td>
            <td><input class="ti" data-ans="N/A" placeholder="‚Äî"></td>
            <td><input class="ti" data-ans="N/A" placeholder="‚Äî"></td>
            <td><input class="ti" data-ans="B" placeholder="?"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;align-items:center;">
      <button class="btn btn-t" onclick="checkTrace('trace1')">‚úÖ Check Answers</button>
      <button class="btn btn-b" onclick="revealTrace('trace1')">üëÅ Reveal All</button>
      <button class="btn" onclick="resetTrace('trace1')">üîÑ Reset</button>
      <span id="trace1-sc" style="font-family:'Caveat',cursive;font-size:1.05rem;font-weight:700;color:var(--blue);"></span>
    </div>
    <div style="background:var(--ly);border:2px solid var(--yellow);border-left:4px solid var(--orange);border-radius:6px;padding:10px 14px;margin-top:12px;font-family:'Kalam',cursive;font-size:.86rem;">
      üí° <strong>Tip:</strong> Once a condition is TRUE and that branch executes, all later ELSE IF branches are <em>skipped</em> ‚Äî mark them N/A. For score 91: first condition (‚â•80) is TRUE, so all others are N/A.
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 5: FILL-BLANKS PSEUDOCODE ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a5">
  <div class="act-hdr" onclick="toggleA('a5')" style="background:linear-gradient(135deg,var(--blue),#1565c0);">
    <span style="font-size:1.4rem;">üî§</span>
    <span class="act-title">Activity 5 (p.10): Pseudocode ‚Äî Fill the Blanks</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">Activity 5 asks you to express a written algorithm in pseudocode. Fill in the blanks ‚Äî click a word from the word bank, then click the blank where it belongs.</p>
    <div class="wb" id="wb5"></div>
    <div id="blankCode" style="background:#1e1e2e;color:#cdd6f4;padding:18px;border-radius:10px;line-height:2.6;font-family:'Courier New',monospace;font-size:.88rem;"></div>
    <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;align-items:center;">
      <button class="btn btn-t" onclick="checkBlanks5()">‚úÖ Check</button>
      <button class="btn" onclick="resetBlanks5()">üîÑ Reset</button>
      <span id="blank5sc" style="font-family:'Caveat',cursive;font-size:1.05rem;font-weight:700;color:var(--blue);"></span>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 6: WRITE PSEUDOCODE ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a6">
  <div class="act-hdr" onclick="toggleA('a6')" style="background:linear-gradient(135deg,#059669,#047857);">
    <span style="font-size:1.4rem;">üíª</span>
    <span class="act-title">Checkpoint C2 (p.11): Write Pseudocode ‚Äî Average of 3 Numbers</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">From the textbook Checkpoint Challenge C2: <em>"Write an algorithm expressed in pseudocode that receives three numbers from the keyboard, then calculates and displays the average."</em><br>Use Edexcel keywords: SEND, RECEIVE, FROM KEYBOARD, SET ‚Ä¶ TO, TO DISPLAY.</p>
    <div class="pse">
      <div class="pse-hdr">
        <div class="pse-dots"><div class="pse-dot" style="background:#ff5f57;"></div><div class="pse-dot" style="background:#febc2e;"></div><div class="pse-dot" style="background:#28c840;"></div></div>
        <span>Pseudocode Editor ‚Äî Average of 3 Numbers</span>
      </div>
      <textarea class="pse-ta" id="pse6" placeholder="Write your pseudocode here...&#10;&#10;Hint: You need 3 RECEIVE lines, 1 SET for calculation, 1 SEND for output."></textarea>
      <div class="pse-fb" id="pse6fb"></div>
    </div>
    <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;">
      <button class="btn btn-t" onclick="checkPse6()">‚úÖ Auto-Check</button>
      <button class="btn btn-b" onclick="showPse6()">üëÅ Model Answer</button>
      <button class="btn" onclick="document.getElementById('pse6').value='';document.getElementById('pse6fb').className='pse-fb';">üîÑ Clear</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 7: SORT THE ALGORITHM ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a7">
  <div class="act-hdr" onclick="toggleA('a7')" style="background:linear-gradient(135deg,var(--teal),#059669);">
    <span style="font-size:1.4rem;">üî¢</span>
    <span class="act-title">Activity 1 (p.6): Sequence ‚Äî Order the Algorithm</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">The steps of the coffee-making algorithm have been shuffled! Drag them into the correct order (top to bottom). Click <strong>Check Order</strong> when done.</p>
    <div class="sortable-list" id="sortList"></div>
    <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;">
      <button class="btn btn-t" onclick="checkSort()">‚úÖ Check Order</button>
      <button class="btn" onclick="shuffleSort()">üîÄ Shuffle Again</button>
    </div>
    <div class="result-pop" id="sortFB"></div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 8: BUBBLE SORT SIMULATOR ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a8">
  <div class="act-hdr" onclick="toggleA('a8')" style="background:linear-gradient(135deg,var(--blue),#0d3070);">
    <span style="font-size:1.4rem;">ü´ß</span>
    <span class="act-title">Activity 9 (p.17): Bubble Sort ‚Äî Step-by-Step Simulator</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">Watch bubble sort in action! Enter your own list of numbers (comma-separated) or use the example. Step through each comparison, see swaps happen, and understand exactly how bubble sort works.</p>
    <div style="display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;align-items:center;">
      <input id="bsInput" type="text" value="4, 2, 6, 1, 3" style="flex:1;min-width:180px;padding:8px 12px;border:2.5px solid var(--ink);border-radius:6px;font-family:'Patrick Hand',cursive;font-size:.95rem;" placeholder="Enter numbers e.g. 5, 3, 8, 1, 4">
      <button class="btn btn-b" onclick="initBS()">‚ñ∂ Load List</button>
      <button class="btn" onclick="document.getElementById('bsInput').value='4, 2, 6, 1, 3';initBS();">üîÑ Reset Example</button>
    </div>
    <div id="bsViz" style="margin:14px 0;"></div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
      <button class="btn btn-t" onclick="bsStep()">üëâ Next Step</button>
      <button class="btn btn-b" onclick="bsAll()">‚è© Complete Sort</button>
    </div>
    <div id="bsLog" style="background:#f9f9f9;border:2px solid #ddd;border-radius:8px;padding:12px;font-family:'Kalam',cursive;font-size:.88rem;line-height:1.8;max-height:200px;overflow-y:auto;min-height:60px;color:#333;"></div>
    <div style="margin-top:12px;background:var(--lb);border:2px solid var(--blue);border-radius:6px;padding:10px 14px;font-family:'Kalam',cursive;font-size:.87rem;">
      üí° <strong>Remember:</strong> After each full pass, the largest unsorted item reaches its final position. The sort stops when a full pass makes <em>no swaps</em>.
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 9: BINARY SEARCH ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a9">
  <div class="act-hdr" onclick="toggleA('a9')" style="background:linear-gradient(135deg,var(--purple),#4a0e6b);">
    <span style="font-size:1.4rem;">‚ö°</span>
    <span class="act-title">Activity 11 (p.21): Binary Search ‚Äî Find the Number</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">From the textbook Activity 11: Perform a binary search to find the number <strong>13</strong> in the list below. Click on the item you think is the median, then the algorithm will tell you whether to search left or right!</p>
    <div id="binList" style="display:flex;flex-wrap:wrap;gap:6px;margin:14px 0;"></div>
    <div id="binStatus" style="background:var(--lb);border:2px solid var(--blue);border-radius:8px;padding:12px 16px;font-family:'Kalam',cursive;font-size:.92rem;margin-bottom:12px;min-height:50px;"></div>
    <div id="binLog" style="background:#f9f9f9;border:2px solid #ddd;border-radius:8px;padding:12px;font-family:'Kalam',cursive;font-size:.87rem;line-height:1.8;max-height:160px;overflow-y:auto;min-height:50px;color:#333;"></div>
    <div style="display:flex;gap:8px;margin-top:12px;">
      <button class="btn" onclick="resetBin()">üîÑ Restart</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 10: DECOMPOSITION QUIZ ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a10">
  <div class="act-hdr" onclick="toggleA('a10')" style="background:linear-gradient(135deg,var(--green),#1a4a30);">
    <span style="font-size:1.4rem;">üß©</span>
    <span class="act-title">Activity 12 (p.27): Decompose a Problem ‚Äî Quiz Game</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">From the textbook Activity 12: A quiz game has a wheel with 4 colour sections (Red=Science, Blue=History, Green=General Knowledge, Yellow=Geography). Players score 2 points for a correct first-attempt answer, 1 point for second attempt. First to 30 wins.<br><br>Drag the items below into the correct category: <strong>Input</strong>, <strong>Output</strong>, or <strong>Processing</strong>.</p>
    <div class="g3" style="margin-bottom:14px;">
      <div style="border:2.5px dashed var(--teal);border-radius:10px;padding:10px;min-height:120px;" id="dropInput">
        <div style="font-family:'Permanent Marker',cursive;font-size:.85rem;color:#059669;margin-bottom:8px;text-align:center;">üì• INPUT</div>
      </div>
      <div style="border:2.5px dashed var(--coral);border-radius:10px;padding:10px;min-height:120px;" id="dropOutput">
        <div style="font-family:'Permanent Marker',cursive;font-size:.85rem;color:var(--coral);margin-bottom:8px;text-align:center;">üì§ OUTPUT</div>
      </div>
      <div style="border:2.5px dashed var(--orange);border-radius:10px;padding:10px;min-height:120px;" id="dropProcess">
        <div style="font-family:'Permanent Marker',cursive;font-size:.85rem;color:var(--orange);margin-bottom:8px;text-align:center;">‚öôÔ∏è PROCESSING</div>
      </div>
    </div>
    <div style="font-family:'Caveat',cursive;font-size:.88rem;color:#666;margin-bottom:8px;text-align:center;">Drag items into categories:</div>
    <div id="decompBank" style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:14px;"></div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;">
      <button class="btn btn-t" onclick="checkDecomp()">‚úÖ Check Answers</button>
      <button class="btn" onclick="resetDecomp()">üîÑ Reset</button>
    </div>
    <div class="result-pop" id="decompFB"></div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ ACT 11: LIVE PSEUDOCODE EDITOR ‚îÄ‚îÄ‚îÄ -->
<div class="act" id="a11">
  <div class="act-hdr" onclick="toggleA('a11')" style="background:linear-gradient(135deg,#4a0e6b,#7b2d8b);">
    <span style="font-size:1.4rem;">üíª</span>
    <span class="act-title">Pseudocode Editor ‚Äî Write &amp; Check Official Syntax</span>
    <span class="act-tog">‚ñº</span>
  </div>
  <div class="act-body">
    <p class="act-desc">Practice writing pseudocode using the <strong>official Edexcel command set</strong>. The editor highlights keywords automatically. Choose a challenge below or write your own program, then click <strong>Check Syntax</strong> for feedback.</p>

    <!-- Challenge selector -->
    <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px;">
      <span style="font-family:'Kalam',cursive;font-size:.85rem;color:#666;align-self:center;">Load challenge:</span>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#e8d5f5;" onclick="loadChallenge('input')">üì• Input/Output</button>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#d5e8f5;" onclick="loadChallenge('selection')">üîÄ Selection</button>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#d5f5e3;" onclick="loadChallenge('while')">üîÑ WHILE loop</button>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#f5e8d5;" onclick="loadChallenge('for')">üî¢ FOR loop</button>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#fce4ec;" onclick="loadChallenge('function')">‚ö° Function</button>
      <button class="btn" style="font-size:.78rem;padding:5px 10px;background:#e0f7f2;" onclick="loadChallenge('array')">üì¶ Arrays</button>
    </div>

    <div style="margin-bottom:8px;font-family:'Kalam',cursive;font-size:.85rem;color:#555;" id="peChallengeDesc"></div>

    <!-- Editor area: raw textarea + rendered preview side by side -->
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;" id="peGrid">
      <div>
        <div style="font-family:'Permanent Marker',cursive;font-size:.78rem;color:#7b2d8b;margin-bottom:4px;">‚úèÔ∏è Type your pseudocode here:</div>
        <textarea id="peInput" spellcheck="false"
          style="width:100%;min-height:220px;font-family:'Courier New',monospace;font-size:.82rem;
                 border:2px solid #7b2d8b;border-radius:8px;padding:12px;resize:vertical;
                 background:#1e1e2e;color:#cdd6f4;line-height:1.6;tab-size:2;box-sizing:border-box;"
          placeholder="Start typing pseudocode here...&#10;e.g. RECEIVE name FROM (STRING) KEYBOARD"
          oninput="peHighlight()"></textarea>
      </div>
      <div>
        <div style="font-family:'Permanent Marker',cursive;font-size:.78rem;color:#7b2d8b;margin-bottom:4px;">üé® Syntax-highlighted preview:</div>
        <div id="pePreview"
          style="width:100%;min-height:220px;font-family:'Courier New',monospace;font-size:.82rem;
                 border:2px solid #ccc;border-radius:8px;padding:12px;background:#1e1e2e;
                 color:#cdd6f4;line-height:1.6;white-space:pre-wrap;word-break:break-word;
                 overflow-y:auto;box-sizing:border-box;">
        </div>
      </div>
    </div>

    <!-- Quick keyword reference bar -->
    <div style="background:#f0e8ff;border-radius:8px;padding:10px 14px;margin-bottom:12px;font-family:'Kalam',cursive;font-size:.8rem;">
      <strong style="color:#7b2d8b;">Quick keywords (click to insert):</strong><br>
      <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;" id="kwBtns"></div>
    </div>

    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
      <button class="btn btn-t" onclick="peCheck()">üîç Check Syntax</button>
      <button class="btn" onclick="peClear()">üóë Clear</button>
      <button class="btn" style="background:#e8f5e9;" onclick="peCopy()">üìã Copy Code</button>
    </div>

    <!-- Feedback panel -->
    <div id="peFeedback" style="display:none;border-radius:10px;padding:14px;font-family:'Kalam',cursive;font-size:.88rem;line-height:1.7;"></div>

    <!-- Keyword legend -->
    <div style="margin-top:12px;background:#f8f4ff;border:1.5px solid #d0b0f0;border-radius:8px;padding:10px 14px;">
      <div style="font-family:'Permanent Marker',cursive;font-size:.78rem;color:#7b2d8b;margin-bottom:6px;">üé® Colour key:</div>
      <div style="display:flex;flex-wrap:wrap;gap:10px;font-family:'Courier New',monospace;font-size:.8rem;">
        <span style="color:#c792ea;"><strong>purple</strong> = keywords (SET, IF, WHILE‚Ä¶)</span>
        <span style="color:#c3e88d;"><strong>green</strong> = strings ('text')</span>
        <span style="color:#82aaff;"><strong>blue</strong> = identifiers/variables</span>
        <span style="color:#546e7a;"><strong>grey</strong> = # comments</span>
        <span style="color:#f78c6c;"><strong>orange</strong> = numbers</span>
      </div>
    </div>
  </div>
</div>

</div><!-- end activities -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     QUIZ
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp" id="tp-quiz">
  <div style="background:var(--lb);border:2px solid var(--blue);border-left:5px solid var(--blue);border-radius:8px;padding:12px 16px;margin-bottom:16px;font-size:.92rem;">
    <strong>‚ö° Quick Quiz:</strong> 30 questions covering all 4 Topics of Unit 1. Based on the textbook content!
  </div>
  <div class="prog-wrap">
    <div class="prog-bar"><div class="prog-fill" id="qprog" style="width:0%"></div></div>
    <div class="score-badge">Score: <span id="qsc">0</span>/<span id="qtot">20</span></div>
  </div>
  <div id="qarea">
    <div class="qcard">
      <div class="qnum" id="qnum">Question 1 of 20</div>
      <div class="qtext" id="qtext"></div>
      <div class="qopts" id="qopts"></div>
      <div class="qfb" id="qfb"></div>
      <div style="display:flex;justify-content:flex-end;margin-top:12px;">
        <button class="btn btn-t" id="qnext" onclick="nextQ()" style="display:none;">Next ‚Üí</button>
      </div>
    </div>
  </div>
  <div id="qresult" class="qresult" style="display:none;">
    <div style="font-size:3rem;margin-bottom:8px;">üèÜ</div>
    <h2 style="font-family:'Permanent Marker',cursive;margin-bottom:10px;">Quiz Complete!</h2>
    <div class="big-score" id="qfinal"></div>
    <p style="font-family:'Kalam',cursive;font-size:1rem;margin:12px 0 20px;" id="qmsg"></p>
    <button class="btn btn-p" onclick="restartQ()">Try Again üîÑ</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     EXAM QUESTIONS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tp" id="tp-exam">
  <div style="background:var(--lc);border:2px solid var(--coral);border-left:5px solid var(--coral);border-radius:8px;padding:12px 16px;margin-bottom:16px;font-size:.92rem;">
    <strong>üìù Exam Practice:</strong> Questions based directly on textbook Checkpoint activities. Write your answer, then reveal the mark scheme.
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q1 ¬∑ Topic 1 Checkpoint S2</div><div class="eq-mk">[7 marks]</div></div>
    <div class="eq-q">State the function of each of the seven arithmetic operators: +, ‚àí, *, /, DIV, MOD, ^</div>
    <textarea class="ans-box" style="min-height:130px;" placeholder="+:&#10;‚àí:&#10;*:&#10;/:&#10;DIV:&#10;MOD:&#10;^:"></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme ‚Äî 1 mark each</div><ul>
      <li><strong>+</strong> Addition ‚Äî adds two values together (e.g. 8 + 5 = 13)</li>
      <li><strong>‚àí</strong> Subtraction ‚Äî subtracts the second value from the first (e.g. 17 ‚àí 4 = 13)</li>
      <li><strong>*</strong> Multiplication ‚Äî multiplies two values together (e.g. 6 * 9 = 54)</li>
      <li><strong>/</strong> Real division ‚Äî divides and returns result <em>including decimal places</em> (e.g. 13/4 = 3.25)</li>
      <li><strong>DIV</strong> Quotient/Integer division ‚Äî returns only the <em>whole number</em> part (e.g. 13 DIV 4 = 3)</li>
      <li><strong>MOD</strong> Modulus ‚Äî returns the <em>remainder</em> after division (e.g. 13 MOD 4 = 1)</li>
      <li><strong>^</strong> Exponentiation ‚Äî raises to the <em>power of</em> (e.g. 3^3 = 27)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q2 ¬∑ Topic 1 Checkpoint S3 &amp; S4</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">(a) What is a variable? Why are they useful? [2 marks]<br>(b) What is the difference between a variable and a constant? [2 marks]</div>
    <textarea class="ans-box" placeholder="(a)...&#10;(b)..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><ul>
      <li>(a) A variable is a 'container' used to store data/a value (1). Useful because the same variable can store different values each time the program runs, allowing the same program to process different sets of data (1).</li>
      <li>(b) A variable's value can <strong>change</strong> during the program. A constant's value <strong>never changes</strong> ‚Äî it always holds the same value (e.g. Pi = 3.14159) (1+1).</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q3 ¬∑ Checkpoint C2 (p.11)</div><div class="eq-mk">[5 marks]</div></div>
    <div class="eq-q">Write a pseudocode algorithm that receives three numbers from the keyboard, calculates their average and displays the result. Use correct Edexcel pseudocode keywords.</div>
    <textarea class="ans-box" style="min-height:140px;" placeholder="Write pseudocode here..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme</div><pre style="background:#f5f5f5;padding:10px;border-radius:6px;font-family:monospace;font-size:.83rem;line-height:1.7;">SEND 'Enter first number' TO DISPLAY
RECEIVE num1 FROM KEYBOARD              ‚Üê (1)
SEND 'Enter second number' TO DISPLAY
RECEIVE num2 FROM KEYBOARD              ‚Üê (1)
SEND 'Enter third number' TO DISPLAY
RECEIVE num3 FROM KEYBOARD              ‚Üê (1)
SET average TO (num1 + num2 + num3) / 3 ‚Üê (1)
SEND average TO DISPLAY                 ‚Üê (1)</pre>
      <p style="margin-top:8px;font-size:.85rem;">Accept any valid variable names. Must use RECEIVE ‚Ä¶ FROM KEYBOARD for input, SET ‚Ä¶ TO for calculation, SEND ‚Ä¶ TO DISPLAY for output.</p>
    </div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q4 ¬∑ Topic 2 Checkpoint C1</div><div class="eq-mk">[5 marks]</div></div>
    <div class="eq-ctx">A school wants an algorithm to calculate a student's BMI. The formula is: BMI = weight √∑ height¬≤.</div>
    <div class="eq-q">Write an algorithm using pseudocode that asks the user to enter their height (in metres) and weight (in kilograms), calculates their BMI and displays the result.</div>
    <textarea class="ans-box" style="min-height:140px;" placeholder="Write pseudocode here..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme</div><pre style="background:#f5f5f5;padding:10px;border-radius:6px;font-family:monospace;font-size:.83rem;line-height:1.7;">SEND 'Enter weight in kg' TO DISPLAY
RECEIVE weight FROM KEYBOARD          ‚Üê (1)
SEND 'Enter height in metres' TO DISPLAY
RECEIVE height FROM KEYBOARD          ‚Üê (1)
SET bmi TO weight / (height ^ 2)      ‚Üê (1) [accept height * height]
SEND bmi TO DISPLAY                   ‚Üê (1)
[correct use of all pseudocode keywords] ‚Üê (1)</pre></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q5 ¬∑ Trace Table</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-ctx">Consider this pseudocode:
      <pre style="margin-top:6px;font-family:monospace;font-size:.83rem;background:#f0f0f0;padding:8px;border-radius:4px;">SET x TO 15
SET y TO 4
SET a TO x DIV y
SET b TO x MOD y
SET c TO x ^ 2
SEND a TO DISPLAY
SEND b TO DISPLAY
SEND c TO DISPLAY</pre>
    </div>
    <div class="eq-q">What are the values of a, b and c, and what does the algorithm display?</div>
    <textarea class="ans-box" style="min-height:80px;" placeholder="a = ?    b = ?    c = ?&#10;Displays: ..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><ul>
      <li>a = 15 DIV 4 = <strong>3</strong> (whole number part of 15√∑4) (1)</li>
      <li>b = 15 MOD 4 = <strong>3</strong> (remainder: 15 = 3√ó4 + 3) (1)</li>
      <li>c = 15 ^ 2 = <strong>225</strong> (1)</li>
      <li>Displays: 3 then 3 then 225 (one per line) (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q6 ¬∑ Constructs</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">Describe the three programming constructs used in algorithms, giving an everyday example of each.</div>
    <textarea class="ans-box" style="min-height:120px;" placeholder="1. Sequence:&#10;2. Selection:&#10;3. Iteration:"></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><ul>
      <li><strong>Sequence</strong> ‚Äî instructions carried out in order, one after another. e.g. making coffee: fill kettle, then turn on, then wait, then pour (1)</li>
      <li><strong>Selection</strong> ‚Äî a choice between alternatives based on a condition. Uses IF/ELSE. e.g. IF temperature = 100¬∞C THEN turn off kettle, ELSE wait (1+1)</li>
      <li><strong>Iteration</strong> ‚Äî a process is repeated until a condition is met (a loop). e.g. keep checking temperature UNTIL it equals 100¬∞C (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-h">HARD</span> Q7 ¬∑ Extended Writing</div><div class="eq-mk">[6 marks]</div></div>
    <div class="eq-ctx">A school uses a computer program to manage library book loans. When a student tries to borrow a book, the program checks whether the student has any overdue books and whether the book they want is available.</div>
    <div class="eq-q">Design a pseudocode algorithm for this system. Your algorithm should: receive the student's library ID, check whether they have overdue books, and if not, check whether the book is available and either loan it or display a message. Use all three constructs (sequence, selection, iteration).</div>
    <textarea class="ans-box" style="min-height:200px;" placeholder="Write your pseudocode here..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme ‚Äî any 6:</div><ul>
      <li>RECEIVE studentID FROM KEYBOARD (1)</li>
      <li>IF student has overdue books THEN SEND 'Cannot borrow ‚Äî return overdue books first' TO DISPLAY (1)</li>
      <li>ELSE: check if book is available (1)</li>
      <li>IF book is available THEN: loan the book / update loan record / SEND 'Book loaned' TO DISPLAY (1)</li>
      <li>ELSE: SEND 'Book not available' TO DISPLAY (1)</li>
      <li>Correct use of END IF for each IF statement (1)</li>
      <li>Iteration shown: e.g. a loop to allow multiple loans in one session (1)</li>
    </ul></div>
  </div>

  <!-- Topic 3 exam questions -->
  <div style="margin:18px 0 10px;padding:10px 16px;background:linear-gradient(135deg,var(--coral),#b01040);border-radius:8px;">
    <span style="font-family:'Permanent Marker',cursive;font-size:1rem;color:white;">üìã Topic 3: Sorting &amp; Searching Algorithms</span>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q8 ¬∑ Checkpoint S1 (p.22)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">What are the differences between the 'bubble sort' and 'merge sort' algorithms? Include reference to the approach each uses.</div>
    <textarea class="ans-box" style="min-height:100px;" placeholder="Bubble sort:&#10;Merge sort:&#10;Differences:"></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme ‚Äî any 4 points:</div><ul>
      <li>Bubble sort uses a <strong>brute force</strong> approach ‚Äî it repeatedly compares pairs and swaps (1)</li>
      <li>Merge sort uses <strong>divide and conquer</strong> ‚Äî it splits the list into sub-lists then merges (1)</li>
      <li>Bubble sort is <strong>slower</strong> for large lists; merge sort is more <strong>efficient</strong> (1)</li>
      <li>Bubble sort is <strong>simpler to code</strong>; merge sort is more complex to implement (1)</li>
      <li>For lists of &lt;1000 items the performance difference is negligible; bubble sort is better for small lists (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q9 ¬∑ Unit Question 5 (p.30)</div><div class="eq-mk">[5 marks]</div></div>
    <div class="eq-ctx">A teacher has stored learner surnames: <strong>Marek | Jackson | Bachchan | Wilson | Abraham | French | Smith</strong></div>
    <div class="eq-q">Identify the stages of a bubble sort when applied to this data, sorting into ascending (alphabetical) order. Show the state of the list after each pass.</div>
    <textarea class="ans-box" style="min-height:160px;" placeholder="Pass 1: ...&#10;Pass 2: ...&#10;Pass 3: ...&#10;..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme (1 mark per correct pass):</div>
      <p style="font-family:monospace;font-size:.84rem;background:#f5f5f5;padding:10px;border-radius:6px;line-height:1.9;">
        Start:  Marek, Jackson, Bachchan, Wilson, Abraham, French, Smith<br>
        Pass 1: Jackson, Bachchan, Marek, Abraham, French, Smith, Wilson<br>
        Pass 2: Bachchan, Jackson, Abraham, French, Marek, Smith, Wilson<br>
        Pass 3: Bachchan, Abraham, French, Jackson, Marek, Smith, Wilson<br>
        Pass 4: Abraham, Bachchan, French, Jackson, Marek, Smith, Wilson<br>
        Pass 5: (no swaps) ‚Üí SORTED ‚úì
      </p>
      <p style="font-size:.84rem;margin-top:6px;">Award 1 mark for each correctly shown pass. Explanation of when sorting stops (no swaps) = 1 mark.</p>
    </div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q10 ¬∑ Unit Question 6 (p.30)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-ctx">A sorted list of names: <strong>Azikiwe | Bloom | Byrne | Davidson | Gateri | Hinton | Jackson | Linton | Smith | Wall</strong></div>
    <div class="eq-q">Identify the stages of a binary search to find the name 'Jackson' in this list.</div>
    <textarea class="ans-box" style="min-height:120px;" placeholder="Attempt 1: Select median...&#10;Attempt 2: ...&#10;Attempt 3: ..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme (1 mark each):</div><ul>
      <li>Attempt 1: Select median = <strong>Gateri</strong> (5th of 10). 'Jackson' comes after Gateri alphabetically ‚Üí search right sub-list (1)</li>
      <li>Right sub-list: Hinton, Jackson, Linton, Smith, Wall. Median = <strong>Linton</strong>. 'Jackson' comes before Linton ‚Üí search left (1)</li>
      <li>Left sub-list: Hinton, Jackson. Median = <strong>Jackson</strong> (higher of two middle items). Match found! (1)</li>
      <li>Correct explanation of stopping when item found / showing recursive nature of method (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-h">HARD</span> Q11 ¬∑ Checkpoint C1 (p.22)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">When might a linear search be preferable to a binary search, even though the binary search algorithm is more efficient?</div>
    <textarea class="ans-box" placeholder="Write your answer here..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme ‚Äî any 4 points:</div><ul>
      <li>When the list is <strong>unsorted</strong> ‚Äî binary search requires a sorted list; linear search works on any list (1)</li>
      <li>When the list is <strong>small</strong> ‚Äî the time difference between the two algorithms is negligible for small lists (1)</li>
      <li>When the list will only be <strong>searched once</strong> ‚Äî the cost of sorting for binary search is not worth it (1)</li>
      <li>Linear search is <strong>simpler to code</strong> ‚Äî easier to implement and understand (1)</li>
      <li>If new items are <strong>constantly added</strong> to the list, it would need re-sorting each time before a binary search could be used (1)</li>
    </ul></div>
  </div>

  <!-- Topic 4 exam questions -->
  <div style="margin:18px 0 10px;padding:10px 16px;background:linear-gradient(135deg,var(--green),#1a4a30);border-radius:8px;">
    <span style="font-family:'Permanent Marker',cursive;font-size:1rem;color:white;">üß© Topic 4: Decomposition &amp; Abstraction</span>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q12 ¬∑ Checkpoint S1 (p.27)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">What is meant by 'decomposition'? What benefits does it provide for programmers?</div>
    <textarea class="ans-box" placeholder="Decomposition means...&#10;Benefits:"></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme:</div><ul>
      <li>Decomposition means breaking a problem into <strong>smaller, more manageable sub-problems</strong> which are easier to solve (1)</li>
      <li>Benefit: sub-problems can be worked on by <strong>different teams simultaneously</strong> / in parallel (1)</li>
      <li>Benefit: easier to <strong>find and fix errors</strong> in smaller pieces of code (1)</li>
      <li>Benefit: code can be <strong>reused</strong> ‚Äî a subprogram written for one sub-problem can be called multiple times (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-e">EASY</span> Q13 ¬∑ Checkpoint S2 &amp; C3 (p.27)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-q">(a) What is meant by 'abstraction' in computer science? [2 marks]<br>(b) Give one example of how we use abstraction in everyday life when communicating with others. [2 marks]</div>
    <textarea class="ans-box" placeholder="(a)...&#10;(b)..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><ul>
      <li>(a) Abstraction = the process of <strong>removing or hiding unnecessary detail</strong> so that only the <strong>important/essential</strong> points remain (1+1)</li>
      <li>(b) Any sensible example e.g. saying "I saw a cat" ‚Äî the listener understands a small furry four-legged animal without needing to know its exact breed, weight, colour etc. (1+1) / Using a map ‚Äî roads shown but not every building, tree etc.</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-m">MED</span> Q14 ¬∑ Checkpoint S3 (p.27)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-ctx">A student is creating a model of the cost of a car journey.</div>
    <div class="eq-q">Write down the important items she will have to include in her model and how they interact to calculate the cost of the journey.</div>
    <textarea class="ans-box" style="min-height:120px;" placeholder="Important items:&#10;How they interact:"></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme ‚Äî any 4:</div><ul>
      <li>Distance of the journey (1)</li>
      <li>Fuel efficiency/consumption of the vehicle (miles per gallon or litres per 100km) (1)</li>
      <li>Cost of fuel per litre/gallon (1)</li>
      <li>Amount of fuel used = distance √∑ fuel efficiency (1)</li>
      <li>Total cost = amount of fuel √ó cost per litre (1)</li>
      <li>Unnecessary details removed/abstracted out: colour of car, road surface type, weather, number of passengers (1)</li>
    </ul></div>
  </div>

  <div class="eq">
    <div class="eq-hdr"><div class="eq-num"><span class="tag tag-h">HARD</span> Q15 ¬∑ Theme Park (p.29‚Äì30)</div><div class="eq-mk">[4 marks]</div></div>
    <div class="eq-ctx">The Lim family is visiting Holiday Theme Park. The family consists of two children aged 8 and 10, their two parents, and their grandfather aged 65. The standard entry charge is ¬£10. Children under 13 pay ¬£5. Visitors aged 60 or over pay ¬£9. Groups of more than 4 full-price adults get ¬£10 off the total.</div>
    <div class="eq-q">Use the algorithm (Figure 1.13) to calculate the total amount the Lim family should pay for entry.</div>
    <textarea class="ans-box" style="min-height:140px;" placeholder="Work out each person's charge:&#10;Child 1 (age 8): ¬£...&#10;Child 2 (age 10): ¬£...&#10;Parent 1: ¬£...&#10;Parent 2: ¬£...&#10;Grandfather (age 65): ¬£...&#10;&#10;Total before discount: ¬£...&#10;Group discount: ¬£...&#10;Final total: ¬£..."></textarea>
    <button class="show-ms" onclick="tMS(this)">üëÅ Show Mark Scheme</button>
    <div class="ms"><div class="ms-hdr">‚úÖ Mark Scheme:</div><ul>
      <li>Child 1 (age 8, &lt;13): ¬£5 (1)</li>
      <li>Child 2 (age 10, &lt;13): ¬£5 (1)</li>
      <li>Parent 1 (adult): ¬£10 | Parent 2 (adult): ¬£10</li>
      <li>Grandfather (age 65, ‚â•60): ¬£9 (1)</li>
      <li>Total = ¬£5 + ¬£5 + ¬£10 + ¬£10 + ¬£9 = <strong>¬£39</strong></li>
      <li>Number of full-price adults (variable 'number'): starts at 5. Each child under 13 reduces by 1 ‚Üí 5 ‚àí 2 = 3. number = 3, which is NOT &gt; 4, so no group discount. (1)</li>
      <li>Final total = <strong>¬£39</strong> (no group discount applies)</li>
    </ul></div>
  </div>

</div><!-- end exam -->

</div><!-- end pw -->

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TABS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.querySelectorAll('.tb').forEach(b=>{
  b.addEventListener('click',()=>{
    document.querySelectorAll('.tb').forEach(x=>x.classList.remove('on'));
    document.querySelectorAll('.tp').forEach(x=>x.classList.remove('on'));
    b.classList.add('on');
    document.getElementById('tp-'+b.dataset.t).classList.add('on');
  });
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NOTES TOGGLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleN(id){
  const s=document.getElementById(id);
  const b=s.querySelector('.nb'); const t=s.querySelector('.ntog');
  const open=b.classList.toggle('open');
  t.style.transform=open?'rotate(180deg)':'';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ACTIVITIES TOGGLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleA(id){
  const s=document.getElementById(id);
  const b=s.querySelector('.act-body'); const t=s.querySelector('.act-tog');
  const open=b.classList.toggle('open');
  t.style.transform=open?'rotate(180deg)':'';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MARK SCHEME TOGGLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function tMS(btn){
  const ms=btn.nextElementSibling;
  const showing=ms.classList.toggle('show');
  btn.textContent=showing?'üôà Hide Mark Scheme':'üëÅ Show Mark Scheme';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FLOWCHART DRAG & DROP ENGINE  (v2 ‚Äî handle arrows + inline edit)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let nodes=[], arrows=[], nId=0, aId=0;
let dragging=null, dOffX=0, dOffY=0;
let arrowDrag=null; // {fromId, x1, y1, curX, curY}
let palT='';
let selId=null;

function pDrag(e,type){palT=type;e.dataTransfer.effectAllowed='copy';}

function cDrop(e){
  e.preventDefault();
  const c=document.getElementById('fcC');
  const r=c.getBoundingClientRect();
  const x=e.clientX-r.left-55, y=e.clientY-r.top-28;
  if(!palT)return;
  addNode(palT,Math.max(0,x),Math.max(0,y),'');
  document.getElementById('fcHint').style.display='none';
}

const NODE_SIZES={oval:{w:120,h:50},rect:{w:120,h:48},diamond:{w:120,h:66},para:{w:120,h:48}};

function addNode(type,x,y,label){
  const id='n'+(++nId);
  const s=NODE_SIZES[type];
  const nd={id,type,x,y,label,w:s.w,h:s.h};
  nodes.push(nd); renderNode(nd);
}

// SVG shape bodies
const shapeSVG={
  oval:(w,h,l)=>`<ellipse cx="${w/2}" cy="${h/2}" rx="${w/2-3}" ry="${h/2-3}" fill="#e0f7f2" stroke="#059669" stroke-width="2.5"/>
    <text x="${w/2}" y="${h/2+4}" font-size="11" text-anchor="middle" dominant-baseline="middle" fill="#059669" font-family="Patrick Hand,sans-serif" pointer-events="none">${escX(l)||'Start/End'}</text>`,
  rect:(w,h,l)=>`<rect x="3" y="3" width="${w-6}" height="${h-6}" rx="3" fill="#e3f2fd" stroke="#118ab2" stroke-width="2.5"/>
    <text x="${w/2}" y="${h/2}" font-size="11" text-anchor="middle" dominant-baseline="middle" fill="#118ab2" font-family="Patrick Hand,sans-serif" pointer-events="none">${escX(l)||'Process'}</text>`,
  diamond:(w,h,l)=>`<polygon points="${w/2},4 ${w-4},${h/2} ${w/2},${h-4} 4,${h/2}" fill="#fce4ec" stroke="#ef476f" stroke-width="2.5"/>
    <text x="${w/2}" y="${h/2}" font-size="10" text-anchor="middle" dominant-baseline="middle" fill="#ef476f" font-family="Patrick Hand,sans-serif" pointer-events="none">${escX(l)||'Decision?'}</text>`,
  para:(w,h,l)=>`<polygon points="16,4 ${w-4},4 ${w-16},${h-4} 4,${h-4}" fill="#fff3e0" stroke="#f77f00" stroke-width="2.5"/>
    <text x="${w/2}" y="${h/2}" font-size="11" text-anchor="middle" dominant-baseline="middle" fill="#f77f00" font-family="Patrick Hand,sans-serif" pointer-events="none">${escX(l)||'Input/Output'}</text>`
};
function escX(s){return(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}

function renderNode(nd){
  const c=document.getElementById('fcC');
  const old=document.getElementById(nd.id); if(old) old.remove();
  const isSel=(nd.id===selId);

  // Wrapper div
  const el=document.createElement('div');
  el.id=nd.id; el.className='fc-node'+(isSel?' sel':'');
  el.style.cssText=`left:${nd.x}px;top:${nd.y}px;width:${nd.w}px;height:${nd.h}px;position:absolute;cursor:move;user-select:none;z-index:10;`;

  // Shape SVG
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('width',nd.w); svg.setAttribute('height',nd.h);
  svg.style.display='block';
  svg.innerHTML=shapeSVG[nd.type](nd.w,nd.h,nd.label);
  el.appendChild(svg);

  // Arrow handle (bottom-centre, visible when selected)
  const handle=document.createElement('div');
  handle.title='Drag to another shape to connect';
  handle.style.cssText=`position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);
    width:20px;height:20px;border-radius:50%;background:#f77f00;border:2px solid white;
    cursor:crosshair;display:${isSel?'flex':'none'};align-items:center;justify-content:center;
    font-size:11px;color:white;z-index:20;box-shadow:0 1px 4px rgba(0,0,0,.3);`;
  handle.textContent='‚ûú';
  handle.addEventListener('mousedown',ev=>{
    ev.stopPropagation(); ev.preventDefault();
    const r=c.getBoundingClientRect();
    arrowDrag={fromId:nd.id, x1:nd.x+nd.w/2, y1:nd.y+nd.h/2,
               curX:ev.clientX-r.left, curY:ev.clientY-r.top};
  });
  el.appendChild(handle);

  // Inline label editor (shown on double-click)
  const inp=document.createElement('input');
  inp.type='text'; inp.value=nd.label||'';
  inp.style.cssText=`position:absolute;top:0;left:0;width:100%;height:100%;
    border:none;background:transparent;font-family:'Patrick Hand',cursive;font-size:11px;
    text-align:center;color:transparent;caret-color:var(--ink);outline:none;z-index:15;
    cursor:move;`;
  inp.addEventListener('dblclick',ev=>{
    ev.stopPropagation();
    inp.style.cursor='text';
    inp.style.color='var(--ink)';
    inp.style.background='rgba(255,255,255,.85)';
    inp.style.borderRadius='4px';
    inp.focus(); inp.select();
  });
  inp.addEventListener('blur',()=>{
    nd.label=inp.value;
    inp.style.cursor='move';
    inp.style.color='transparent';
    inp.style.background='transparent';
    // re-render just the SVG text
    svg.innerHTML=shapeSVG[nd.type](nd.w,nd.h,nd.label);
  });
  inp.addEventListener('keydown',ev=>{if(ev.key==='Enter')inp.blur();});
  // Prevent input mousedown from triggering node drag when editing
  inp.addEventListener('mousedown',ev=>{
    if(inp.style.cursor==='text'){ev.stopPropagation();}
  });
  el.appendChild(inp);

  // Node mousedown ‚Üí select + drag
  el.addEventListener('mousedown',ev=>{
    if(ev.target===handle)return; // handled above
    selectNode(nd.id);
    dragging=nd.id;
    const cr=c.getBoundingClientRect();
    dOffX=ev.clientX-cr.left-nd.x; dOffY=ev.clientY-cr.top-nd.y;
    ev.preventDefault();
  });

  c.appendChild(el);
}

function selectNode(id){
  selId=id;
  nodes.forEach(n=>{
    const el=document.getElementById(n.id); if(!el)return;
    el.classList.toggle('sel',n.id===id);
    const h=el.querySelector('div');
    if(h) h.style.display=(n.id===id)?'flex':'none';
  });
}

function deselectAll(){
  selId=null;
  nodes.forEach(n=>{
    const el=document.getElementById(n.id); if(!el)return;
    el.classList.remove('sel');
    const h=el.querySelector('div'); if(h) h.style.display='none';
  });
}

// Temp arrow line SVG element
let tempLine=null;

document.addEventListener('mousemove',e=>{
  const c=document.getElementById('fcC'); if(!c)return;
  const r=c.getBoundingClientRect();

  if(arrowDrag){
    arrowDrag.curX=e.clientX-r.left;
    arrowDrag.curY=e.clientY-r.top;
    drawTempArrow(arrowDrag.x1,arrowDrag.y1,arrowDrag.curX,arrowDrag.curY);
    return;
  }
  if(!dragging)return;
  const nd=nodes.find(n=>n.id===dragging); if(!nd)return;
  nd.x=Math.max(0,Math.min(r.width-nd.w, e.clientX-r.left-dOffX));
  nd.y=Math.max(0,Math.min(r.height-nd.h, e.clientY-r.top-dOffY));
  const el=document.getElementById(nd.id);
  if(el){el.style.left=nd.x+'px';el.style.top=nd.y+'px';}
  redrawArrows();
});

document.addEventListener('mouseup',e=>{
  if(arrowDrag){
    // Find which node was dropped on
    const c=document.getElementById('fcC'); if(!c){arrowDrag=null;return;}
    const r=c.getBoundingClientRect();
    const mx=e.clientX-r.left, my=e.clientY-r.top;
    const target=nodes.find(n=>n.id!==arrowDrag.fromId &&
      mx>=n.x && mx<=n.x+n.w && my>=n.y && my<=n.y+n.h);
    if(target) addArrow(arrowDrag.fromId, target.id);
    clearTempArrow();
    arrowDrag=null;
    return;
  }
  if(dragging){dragging=null;}
});

// canvas bg click ‚Üí deselect (wired in INIT)

function drawTempArrow(x1,y1,x2,y2){
  const svg=document.getElementById('arrowSVG');
  if(!tempLine){
    tempLine=document.createElementNS('http://www.w3.org/2000/svg','line');
    tempLine.setAttribute('stroke','#f77f00');
    tempLine.setAttribute('stroke-width','2');
    tempLine.setAttribute('stroke-dasharray','6,3');
    tempLine.setAttribute('marker-end','url(#ah)');
    svg.appendChild(tempLine);
  }
  tempLine.setAttribute('x1',x1);tempLine.setAttribute('y1',y1);
  tempLine.setAttribute('x2',x2);tempLine.setAttribute('y2',y2);
}
function clearTempArrow(){
  if(tempLine){tempLine.remove();tempLine=null;}
}

function addArrow(f,t){
  // avoid duplicates
  if(arrows.find(a=>a.from===f&&a.to===t))return;
  arrows.push({id:'a'+(++aId),from:f,to:t});
  redrawArrows();
}

function redrawArrows(){
  const svg=document.getElementById('arrowSVG');
  // preserve temp line if present
  const savedTemp=tempLine?tempLine.cloneNode():null;
  svg.innerHTML=`<defs>
    <marker id="ah" markerWidth="9" markerHeight="9" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3z" fill="#1a1a2e"/>
    </marker>
    <marker id="ah-del" markerWidth="9" markerHeight="9" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3z" fill="#ef476f"/>
    </marker>
  </defs>`;
  arrows.forEach(a=>{
    const fn=nodes.find(n=>n.id===a.from),tn=nodes.find(n=>n.id===a.to);
    if(!fn||!tn)return;
    // Smart edge points: connect nearest edges
    const pts=edgePoints(fn,tn);
    const g=document.createElementNS('http://www.w3.org/2000/svg','g');
    g.style.cssText='cursor:pointer;pointer-events:all;';

    // Invisible fat hit area
    const hit=document.createElementNS('http://www.w3.org/2000/svg','line');
    hit.setAttribute('x1',pts.x1);hit.setAttribute('y1',pts.y1);
    hit.setAttribute('x2',pts.x2);hit.setAttribute('y2',pts.y2);
    hit.setAttribute('stroke','transparent');hit.setAttribute('stroke-width','12');
    g.appendChild(hit);

    // Visible arrow
    const line=document.createElementNS('http://www.w3.org/2000/svg','line');
    line.setAttribute('x1',pts.x1);line.setAttribute('y1',pts.y1);
    line.setAttribute('x2',pts.x2);line.setAttribute('y2',pts.y2);
    line.setAttribute('stroke','#1a1a2e');line.setAttribute('stroke-width','2.2');
    line.setAttribute('marker-end','url(#ah)');
    g.appendChild(line);

    // Right-click to delete
    g.addEventListener('contextmenu',ev=>{
      ev.preventDefault();
      arrows=arrows.filter(x=>x.id!==a.id);
      redrawArrows();
    });
    // Hover highlight
    g.addEventListener('mouseenter',()=>line.setAttribute('stroke','#ef476f'));
    g.addEventListener('mouseleave',()=>line.setAttribute('stroke','#1a1a2e'));

    svg.appendChild(g);
  });
  if(savedTemp){svg.appendChild(savedTemp);tempLine=savedTemp;}
}

function edgePoints(fn,tn){
  const fx=fn.x+fn.w/2,fy=fn.y+fn.h/2;
  const tx=tn.x+tn.w/2,ty=tn.y+tn.h/2;
  const dx=tx-fx,dy=ty-fy;
  // Pick exit point on source edge and entry on target edge
  function exitPt(n,ox,oy){
    const hw=n.w/2,hh=n.h/2;
    if(Math.abs(ox)*(hh)>Math.abs(oy)*(hw)){
      // left/right exit
      const s=ox>0?1:-1;
      return{x:n.x+n.w/2+s*hw, y:n.y+n.h/2+oy/Math.abs(ox)*hw};
    } else {
      const s=oy>0?1:-1;
      return{x:n.x+n.w/2+ox/Math.abs(oy)*hh, y:n.y+n.h/2+s*hh};
    }
  }
  const p1=exitPt(fn,dx,dy);
  const p2=exitPt(tn,-dx,-dy);
  return{x1:p1.x,y1:p1.y,x2:p2.x,y2:p2.y};
}

function deleteSel(){
  if(!selId)return;
  const id=selId;
  nodes=nodes.filter(n=>n.id!==id);
  arrows=arrows.filter(a=>a.from!==id&&a.to!==id);
  const el=document.getElementById(id); if(el)el.remove();
  selId=null;
  redrawArrows();
}

function clearFC(){
  nodes.forEach(n=>{const e=document.getElementById(n.id);if(e)e.remove();});
  nodes=[];arrows=[];nId=0;aId=0;
  document.getElementById('arrowSVG').innerHTML='';
  document.getElementById('fcHint').style.display='';
}

function gradeFC(){
  const hasStart=nodes.some(n=>n.type==='oval'&&n.label.toLowerCase().includes('start'));
  const hasEnd=nodes.some(n=>n.type==='oval'&&n.label.toLowerCase().includes('end'));
  const hasProc=nodes.some(n=>n.type==='rect');
  const hasDec=nodes.some(n=>n.type==='diamond');
  const hasPara=nodes.some(n=>n.type==='para');
  const hasArrows=arrows.length>=3;
  let sc=0,fb=[];
  if(hasStart){sc++;fb.push('‚úÖ Start oval present');}else fb.push('‚ùå Missing Start oval');
  if(hasEnd){sc++;fb.push('‚úÖ End oval present');}else fb.push('‚ùå Missing End oval');
  if(hasProc){sc++;fb.push('‚úÖ Process rectangle(s) present');}else fb.push('‚ùå Missing process rectangles');
  if(hasDec){sc++;fb.push('‚úÖ Decision diamond present (for temperature check)');}else fb.push('‚ùå Missing decision diamond ‚Äî the temperature/level check needs one!');
  if(hasArrows){sc++;fb.push('‚úÖ Arrows connecting shapes');}else fb.push('‚ùå Add arrows to connect shapes');
  const g=document.getElementById('fcGrade');
  g.innerHTML=`<strong style="font-family:'Permanent Marker',cursive;">Auto-check: ${sc}/5</strong><br>${fb.join('<br>')}`;
  g.className='fc-grade show';
}

function showFCSoln(){document.getElementById('fcSoln').className='fc-soln show';}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WRITTEN DESC CHECK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const wdKeywords=['username','password','exist','correct','input','enter','check'];
function checkWD(){
  const val=document.getElementById('wdInput').value.toLowerCase();
  const found=wdKeywords.filter(k=>val.includes(k));
  const miss=wdKeywords.filter(k=>!val.includes(k));
  const fb=document.getElementById('wdFB');
  const score=found.length;
  fb.className='result-pop show '+(score>=5?'ok':score>=3?'part':'bad');
  fb.innerHTML=`<strong>${score}/7 key concepts mentioned.</strong><br>
  ‚úÖ Found: ${found.length?found.join(', '):'none'}<br>
  ${miss.length?'‚ùå Missing concepts: '+miss.join(', '):''}`;
}
function showWDAnswer(){
  document.getElementById('wdInput').value=`Step 1: Input username.
Step 2: Check if username exists.
Step 3: If username does NOT exist, go back to Step 1 (repeat).
Step 4: If username EXISTS, input password.
Step 5: Check if password is correct.
Step 6: If password is NOT correct, go back to Step 4 (repeat).
Step 7: If password IS correct, end (access granted).`;
  checkWD();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê OPERATORS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ops=[
  {q:'8 + 5',a:'13'},{q:'17 ‚àí 4',a:'13'},{q:'6 * 9',a:'54'},
  {q:'13 / 4',a:'3.25'},{q:'13 DIV 4',a:'3'},{q:'13 MOD 4',a:'1'},
  {q:'3 ^ 3',a:'27'},{q:'20 MOD 6',a:'2'},{q:'20 DIV 6',a:'3'},
  {q:'5 ^ 2',a:'25'},{q:'17 / 5',a:'3.4'},{q:'17 DIV 5',a:'3'},
  {q:'17 MOD 5',a:'2'},{q:'2 ^ 8',a:'256'},{q:'100 MOD 7',a:'2'},
];
function buildOps(){
  const grid=document.getElementById('opGrid');
  grid.innerHTML='';
  ops.forEach((o,i)=>{
    grid.innerHTML+=`<div style="background:white;border:2px solid var(--ink);border-radius:8px;padding:12px 16px;box-shadow:2px 2px 0 var(--ink);display:flex;align-items:center;gap:10px;">
      <span style="font-family:'Courier New',monospace;font-size:1rem;font-weight:700;flex:1;color:var(--blue);">${o.q} =</span>
      <input id="op${i}" type="text" placeholder="?" style="width:70px;padding:6px 10px;border:2px solid #ccc;border-radius:6px;font-family:'Patrick Hand',cursive;font-size:.95rem;text-align:center;outline:none;" onkeydown="if(event.key==='Enter'||event.key==='Tab'){checkOps();}">
    </div>`;
  });
}
function checkOps(){
  let correct=0;
  ops.forEach((o,i)=>{
    const inp=document.getElementById('op'+i);
    if(!inp)return;
    const val=inp.value.trim();
    if(val===o.a){inp.style.borderColor='#059669';inp.style.background='#d8f3dc';correct++;}
    else if(val){inp.style.borderColor='#ef476f';inp.style.background='#fce4ec';}
  });
  const filled=ops.filter((_,i)=>document.getElementById('op'+i)?.value.trim()).length;
  document.getElementById('opScore').textContent=`${correct}/${ops.length} correct`;
}
function revealOps(){ops.forEach((o,i)=>{const inp=document.getElementById('op'+i);if(inp){inp.value=o.a;inp.style.borderColor='#059669';inp.style.background='#d8f3dc';}});}
function resetOps(){ops.forEach((_,i)=>{const inp=document.getElementById('op'+i);if(inp){inp.value='';inp.style.borderColor='#ccc';inp.style.background='white';}});document.getElementById('opScore').textContent='';}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TRACE TABLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function isNA(v){return v.toUpperCase()==='N/A'||v==='-'||v==='‚Äî'||v===''||v==='N\\A';}
function checkTrace(tid){
  const inputs=document.querySelectorAll('#'+tid+' .ti');
  let correct=0,total=inputs.length;
  inputs.forEach(inp=>{
    const ans=inp.dataset.ans.toUpperCase().trim();
    const val=inp.value.toUpperCase().trim();
    const naAns=isNA(ans), naVal=isNA(val);
    if(naAns&&naVal){inp.className='ti ok';correct++;}
    else if(val===ans){inp.className='ti ok';correct++;}
    else if(val){inp.className='ti bad';}
    else{inp.className='ti';}
  });
  document.getElementById(tid+'-sc').textContent=`${correct}/${total}`;
}
function revealTrace(tid){document.querySelectorAll('#'+tid+' .ti').forEach(inp=>{inp.value=inp.dataset.ans;inp.className='ti ok';});}
function resetTrace(tid){document.querySelectorAll('#'+tid+' .ti').forEach(inp=>{inp.value='';inp.className='ti';});document.getElementById(tid+'-sc').textContent='';}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FILL BLANKS (Activity 5) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const b5words=['SEND','RECEIVE','FROM KEYBOARD','SET','TO','TO DISPLAY','*'];
const b5ans={B0:'SEND',B1:'TO DISPLAY',B2:'RECEIVE',B3:'FROM KEYBOARD',B4:'SET',B5:'TO',B6:'*',B7:'TO DISPLAY'};
let b5state={};Object.keys(b5ans).forEach(k=>b5state[k]='');
let b5sel=null;

const b5template=[
  `<span style="color:#cba6f7">__B0__</span> <span style="color:#89dceb">'Enter the first number'</span> <span style="color:#cba6f7">__B1__</span>`,
  `<span style="color:#cba6f7">__B2__</span> <span style="color:#89b4fa">firstNumber</span> <span style="color:#cba6f7">__B3__</span>`,
  `<span style="color:#cba6f7">SEND</span> <span style="color:#89dceb">'Enter the second number'</span> <span style="color:#cba6f7">TO DISPLAY</span>`,
  `<span style="color:#cba6f7">RECEIVE</span> <span style="color:#89b4fa">secondNumber</span> <span style="color:#cba6f7">FROM KEYBOARD</span>`,
  `<span style="color:#cba6f7">__B4__</span> <span style="color:#89b4fa">thirdNumber</span> <span style="color:#cba6f7">__B5__</span> <span style="color:#89b4fa">firstNumber</span> <span style="color:#cba6f7">__B6__</span> <span style="color:#89b4fa">secondNumber</span>`,
  `<span style="color:#cba6f7">SEND</span> <span style="color:#89b4fa">thirdNumber</span> <span style="color:#cba6f7">__B7__</span>`,
];

function buildBlanks5(){
  const wb=document.getElementById('wb5');
  wb.innerHTML='';
  b5words.forEach(w=>{
    const d=document.createElement('div');
    d.className='ww'; d.textContent=w; d.dataset.word=w;
    d.onclick=()=>{
      if(b5sel===null)return;
      // Find if word already used elsewhere
      const prevKey=Object.keys(b5state).find(k=>b5state[k]===w);
      if(prevKey) b5state[prevKey]=''; // free it
      b5state[b5sel]=w;
      document.querySelectorAll('.ww').forEach(x=>x.classList.remove('sel'));
      renderBlanks5(); b5sel=null;
    };
    wb.appendChild(d);
  });
  renderBlanks5();
}

function renderBlanks5(){
  const wrap=document.getElementById('blankCode');
  let html='';
  b5template.forEach(line=>{
    let t=line;
    Object.keys(b5state).forEach(k=>{
      const v=b5state[k];
      const display=v||'&nbsp;&nbsp;&nbsp;&nbsp;';
      const cls='blank'+(v?' filled':'')+(b5sel===k?' sel-blank':'');
      t=t.replace(`__${k}__`,`<span class="${cls}" data-b="${k}" onclick="selBlank('${k}')" style="color:${v?'#a6e3a1':'#888'};border-color:${v?'#a6e3a1':'#555'};">${display}</span>`);
    });
    html+=`<div style="margin:2px 0;">${t}</div>`;
  });
  wrap.innerHTML=html;
  // Update used state on word bank
  document.querySelectorAll('.ww').forEach(w=>{
    const used=Object.values(b5state).includes(w.dataset.word);
    w.classList.toggle('used',used);
  });
}

function selBlank(k){
  b5sel=k;
  document.querySelectorAll('.blank').forEach(b=>b.classList.remove('sel-blank'));
  document.querySelector(`[data-b="${k}"]`)?.classList.add('sel-blank');
}

function checkBlanks5(){
  let correct=0;
  Object.keys(b5ans).forEach(k=>{
    const el=document.querySelector(`[data-b="${k}"]`);
    if(!el)return;
    if(b5state[k]===b5ans[k]){el.style.color='#a6e3a1';el.style.borderColor='#059669';el.style.background='rgba(166,227,161,.2)';correct++;}
    else if(b5state[k]){el.style.color='#f38ba8';el.style.borderColor='#ef476f';el.style.background='rgba(243,139,168,.2)';}
  });
  document.getElementById('blank5sc').textContent=`${correct}/${Object.keys(b5ans).length}`;
}

function resetBlanks5(){
  Object.keys(b5state).forEach(k=>b5state[k]='');
  b5sel=null;
  renderBlanks5();
  document.getElementById('blank5sc').textContent='';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PSEUDOCODE CHECKER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function checkPse6(){
  const val=document.getElementById('pse6').value.toUpperCase();
  const kws=['SEND','RECEIVE','FROM KEYBOARD','SET','TO DISPLAY','/',('+')];
  const labels=['SEND','RECEIVE','FROM KEYBOARD','SET','TO DISPLAY','/ (division)'];
  let found=[],miss=[];
  kws.forEach((k,i)=>{ if(val.includes(k)) found.push(labels[i]||k); else miss.push(labels[i]||k); });
  const has3receive=(val.match(/RECEIVE/g)||[]).length>=3;
  const fb=document.getElementById('pse6fb');
  const score=found.length+(has3receive?1:0);
  const maxScore=kws.length+1;
  fb.className='pse-fb show '+(score>=maxScore-1?'ok':score>=4?'part':'bad');
  fb.innerHTML=`<strong>${score}/${maxScore} checks passed</strong><br>
  ‚úÖ Found: ${found.join(', ')||'none'}<br>
  ${has3receive?'‚úÖ 3 √ó RECEIVE (one per number)':'‚ùå Need 3 RECEIVE statements (one per number)'}<br>
  ${miss.length?'‚ùå Missing: '+miss.join(', '):''}`;
}
function showPse6(){
  document.getElementById('pse6').value=`SEND 'Enter first number' TO DISPLAY
RECEIVE num1 FROM KEYBOARD
SEND 'Enter second number' TO DISPLAY
RECEIVE num2 FROM KEYBOARD
SEND 'Enter third number' TO DISPLAY
RECEIVE num3 FROM KEYBOARD
SET average TO (num1 + num2 + num3) / 3
SEND average TO DISPLAY`;
  checkPse6();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SORTABLE ALGORITHM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const correctOrder=[
  'Fill kettle with water.',
  'Turn on kettle.',
  'Place coffee in cup.',
  'Wait for water to boil (until temperature = 100¬∞C).',
  'Pour water into cup.',
  'Add milk and sugar.',
  'Stir.',
];
let sortOrder=[...correctOrder];

function shuffleSort(){
  sortOrder=[...correctOrder].sort(()=>Math.random()-.5);
  renderSort();
  document.getElementById('sortFB').className='result-pop';
}

function renderSort(){
  const list=document.getElementById('sortList');
  list.innerHTML='';
  sortOrder.forEach((step,i)=>{
    const div=document.createElement('div');
    div.className='sort-item'; div.draggable=true;
    div.innerHTML=`<span class="sort-grip">‚†ø</span><span>${i+1}. ${step}</span>`;
    div.dataset.idx=i;
    div.addEventListener('dragstart',e=>{e.dataTransfer.setData('text/plain',i);div.classList.add('dragging');});
    div.addEventListener('dragend',()=>div.classList.remove('dragging'));
    div.addEventListener('dragover',e=>{e.preventDefault();});
    div.addEventListener('drop',e=>{
      e.preventDefault();
      const from=parseInt(e.dataTransfer.getData('text/plain'));
      const to=i;
      if(from===to)return;
      const tmp=sortOrder[from]; sortOrder[from]=sortOrder[to]; sortOrder[to]=tmp;
      renderSort();
    });
    list.appendChild(div);
  });
}

function checkSort(){
  const correct=sortOrder.every((s,i)=>s===correctOrder[i]);
  const fb=document.getElementById('sortFB');
  if(correct){
    fb.className='result-pop show ok';
    fb.textContent='üéâ Perfect! The algorithm is in the correct order.';
  } else {
    let wrongSteps=sortOrder.filter((s,i)=>s!==correctOrder[i]).length;
    fb.className='result-pop show part';
    fb.textContent=`${wrongSteps} step(s) are in the wrong position. Keep rearranging!`;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê QUIZ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const questions=[
  {q:'What is an algorithm?',opts:['A programming language','A precise method for solving a problem','A type of flowchart symbol','A computer program'],a:1,exp:'An algorithm is a precise method for solving a problem (textbook p.4).'},
  {q:'Which flowchart symbol represents a DECISION?',opts:['Oval','Rectangle','Parallelogram','Diamond'],a:3,exp:'A diamond shape indicates a decision to be made in a flowchart (Figure 1.2, p.6).'},
  {q:'What does the flowchart symbol ‚Äî an OVAL ‚Äî represent?',opts:['A process to carry out','Input or output','The start or end of the algorithm','A decision'],a:2,exp:'An oval indicates the start or end of an algorithm (Figure 1.2, p.6).'},
  {q:'An algorithm must be "unambiguous". What does this mean?',opts:['It must run quickly','The instructions cannot be misunderstood','It must use fewer steps','It must produce different results each time'],a:1,exp:'"Unambiguous" means the instructions cannot be misunderstood (Subject vocabulary, p.4).'},
  {q:'What is the result of 13 DIV 4?',opts:['3.25','1','3','4'],a:2,exp:'DIV returns only the whole number (quotient). 13 √∑ 4 = 3 remainder 1, so DIV gives 3 (Table 1.1, p.9).'},
  {q:'What is the result of 13 MOD 4?',opts:['3.25','3','4','1'],a:3,exp:'MOD returns the remainder. 13 = 3√ó4 + 1, so 13 MOD 4 = 1 (Table 1.1, p.9).'},
  {q:'What is the result of 3 ^ 3?',opts:['9','6','27','81'],a:2,exp:'^ means exponentiation (to the power of). 3^3 = 3√ó3√ó3 = 27 (Table 1.1, p.9).'},
  {q:'In Edexcel pseudocode, which keyword gets input from the user?',opts:['INPUT','GET','RECEIVE','READ'],a:2,exp:'RECEIVE ‚Ä¶ FROM KEYBOARD is the Edexcel pseudocode keyword for input (p.8).'},
  {q:'In Edexcel pseudocode, which keyword displays output?',opts:['PRINT','OUTPUT','DISPLAY','SEND ‚Ä¶ TO DISPLAY'],a:3,exp:'SEND ‚Ä¶ TO DISPLAY is the Edexcel keyword for output (p.8).'},
  {q:'What is the Edexcel pseudocode keyword for assigning a value to a variable?',opts:['LET','SET ‚Ä¶ TO','ASSIGN','VAR'],a:1,exp:'SET ‚Ä¶ TO is used to assign values in Edexcel pseudocode (p.8).'},
  {q:'Which construct allows a choice between alternatives based on a condition?',opts:['Sequence','Iteration','Selection','Algorithm'],a:2,exp:'Selection allows a choice between different alternatives (Subject vocabulary, p.12).'},
  {q:'Which construct repeats a process until a condition is met?',opts:['Sequence','Selection','Flowchart','Iteration'],a:3,exp:'Iteration (also called a loop) means a process is repeated until a condition is met (Subject vocabulary, p.12).'},
  {q:'In a flowchart, how is ITERATION shown?',opts:['A diamond with two exits','An oval shape','An arrow looping back to an earlier step','A parallelogram'],a:2,exp:'Iteration is shown by an arrow looping back to an earlier point in the flowchart (Figure 1.7, p.13).'},
  {q:'What is a VARIABLE in programming?',opts:["A 'container' that holds a value that never changes","A 'container' used to store data whose value can change","A keyword in pseudocode","A flowchart symbol"],a:1,exp:'A variable is a "container" used to store data. The value stored can change during the program (Subject vocabulary, p.8).'},
  {q:'What is a CONSTANT in programming?',opts:["A 'container' whose value can change","The same as a variable","A 'container' that holds a value that NEVER changes","A loop that repeats constantly"],a:2,exp:'A constant holds a value that always stays the same, e.g. Pi = 3.14159 (p.9).'},
  {q:'What is the difference between an algorithm and a program?',opts:['There is no difference','An algorithm is the design; a program is when that design is implemented','A program is faster than an algorithm','Algorithms use pseudocode; programs use flowcharts'],a:1,exp:'An algorithm is a detailed design for a solution; a program is when that design is implemented in a programming language (p.5).'},
  {q:'Text displayed using SEND in pseudocode must be in‚Ä¶',opts:['Square brackets [ ]','Quotation marks (single or double)','Capital letters','Round brackets ( )'],a:1,exp:'Text has to be placed in quotation marks (single or double) if it is to be displayed (p.8).'},
  {q:'What does 13 / 4 equal (using the / operator)?',opts:['3','1','3.25','4'],a:2,exp:'/ is real division and returns the result including decimal places. 13/4 = 3.25 (Table 1.1, p.9).'},
  {q:'What naming style is "firstName" an example of?',opts:['snake_case','PascalCase','camelCase','kebab-case'],a:2,exp:'"firstName" is camelCase ‚Äî no space, second word starts with a capital letter (p.9).'},
  {q:'Three characteristics of a successful algorithm are accuracy, efficiency and‚Ä¶',opts:['Speed','Consistency','Creativity','Simplicity'],a:1,exp:'The three characteristics are: Accuracy, Consistency and Efficiency (p.5).'},
];

let qI=0,qSc=0,qAns=false;
document.getElementById('qtot').textContent=questions.length;

function loadQ(){
  const q=questions[qI];
  document.getElementById('qnum').textContent=`Question ${qI+1} of ${questions.length}`;
  document.getElementById('qtext').textContent=q.q;
  const fb=document.getElementById('qfb');
  fb.className='qfb'; fb.textContent='';
  document.getElementById('qnext').style.display='none';
  qAns=false;
  const opts=document.getElementById('qopts');
  opts.innerHTML='';
  q.opts.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.className='qopt'; btn.textContent=opt;
    btn.addEventListener('click',()=>{
      if(qAns)return; qAns=true;
      opts.querySelectorAll('.qopt').forEach(b=>b.disabled=true);
      if(i===q.a){
        btn.classList.add('ok'); qSc++;
        document.getElementById('qsc').textContent=qSc;
        fb.textContent='‚úÖ Correct! '+['üéâ','‚≠ê','üèÜ','üíØ'][Math.floor(Math.random()*4)]+' '+q.exp;
        fb.className='qfb show ok';
      } else {
        btn.classList.add('bad');
        opts.querySelectorAll('.qopt')[q.a].classList.add('ok');
        fb.textContent=`‚ùå ${q.exp}`;
        fb.className='qfb show bad';
      }
      document.getElementById('qprog').style.width=((qI+1)/questions.length*100)+'%';
      document.getElementById('qnext').style.display='inline-block';
    });
    opts.appendChild(btn);
  });
}

function nextQ(){
  qI++;
  if(qI>=questions.length){
    document.getElementById('qarea').style.display='none';
    document.getElementById('qresult').style.display='block';
    document.getElementById('qfinal').textContent=`${qSc}/${questions.length}`;
    const pct=qSc/questions.length;
    document.getElementById('qmsg').textContent=
      pct===1?'üåü Perfect! You have mastered Unit 1!':
      pct>=.8?'üèÜ Excellent! Very close to perfect.':
      pct>=.6?'üëç Good work! Review the notes for anything you missed.':
      'üìñ Keep revising ‚Äî re-read the Notes tab and try the Activities!';
  } else loadQ();
}

function restartQ(){
  qI=0;qSc=0;
  document.getElementById('qsc').textContent='0';
  document.getElementById('qprog').style.width='0%';
  document.getElementById('qresult').style.display='none';
  document.getElementById('qarea').style.display='block';
  loadQ();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUBBLE SORT SIMULATOR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let bsArr=[], bsI=0, bsJ=0, bsPass=1, bsDone=false, bsLog=[];

function initBS(){
  const raw=document.getElementById('bsInput').value;
  bsArr=raw.split(',').map(s=>parseInt(s.trim())).filter(n=>!isNaN(n));
  if(bsArr.length<2){alert('Please enter at least 2 numbers!');return;}
  bsI=0;bsJ=0;bsPass=1;bsDone=false;bsLog=[];
  renderBS();
  document.getElementById('bsLog').innerHTML='<em style="color:#999">Press "Next Step" to begin...</em>';
}

function renderBS(hi1=-1,hi2=-1,swapped=false){
  const v=document.getElementById('bsViz');
  if(!bsArr.length){v.innerHTML='';return;}
  const max=Math.max(...bsArr);
  let html=`<div style="display:flex;gap:6px;align-items:flex-end;min-height:80px;flex-wrap:wrap;padding:10px;background:#f5f5f5;border-radius:8px;border:2px solid #ddd;">`;
  bsArr.forEach((n,i)=>{
    const h=Math.max(24,Math.round((n/max)*70));
    let bg='var(--blue)';
    if(i===hi1||i===hi2) bg=swapped?'var(--coral)':'var(--teal)';
    html+=`<div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
      <span style="font-family:'Caveat',cursive;font-size:.85rem;font-weight:700;">${n}</span>
      <div style="width:36px;height:${h}px;background:${bg};border-radius:4px 4px 0 0;transition:all .3s;border:2px solid rgba(0,0,0,.15);"></div>
    </div>`;
  });
  html+=`</div><div style="font-family:'Caveat',cursive;font-size:.9rem;color:#666;margin-top:6px;text-align:center;">Pass ${bsPass}</div>`;
  v.innerHTML=html;
}

function bsStep(){
  if(!bsArr.length){initBS();return;}
  if(bsDone){document.getElementById('bsLog').innerHTML+='<div style="color:var(--teal);font-weight:700;">‚úÖ Sort complete!</div>';return;}
  const n=bsArr.length;
  let swapped=false;
  if(bsArr[bsJ]>bsArr[bsJ+1]){
    [bsArr[bsJ],bsArr[bsJ+1]]=[bsArr[bsJ+1],bsArr[bsJ]];
    swapped=true;
    bsI++;
  }
  const msg=`Pass ${bsPass}, comparing positions ${bsJ+1}&amp;${bsJ+2}: [${bsArr[bsJ-1]||bsArr[0]}‚Üî${bsArr[bsJ]}] ${swapped?'‚Üí <strong style="color:var(--coral)">SWAPPED!</strong>':'‚Üí no swap'}`;
  bsLog.push(msg);
  renderBS(bsJ,bsJ+1,swapped);
  document.getElementById('bsLog').innerHTML=bsLog.slice(-8).join('<br>')+`<br><em style="color:#aaa">Total swaps this pass: ${bsI}</em>`;
  bsJ++;
  if(bsJ>=n-1){
    if(bsI===0){bsDone=true;document.getElementById('bsLog').innerHTML+=`<br><strong style="color:var(--teal)">‚úÖ No swaps this pass ‚Äî list is SORTED!</strong>`;}
    bsJ=0;bsI=0;bsPass++;
  }
}

function bsAll(){
  if(!bsArr.length){initBS();return;}
  let safetyNet=0;
  while(!bsDone&&safetyNet++<200) bsStep();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BINARY SEARCH ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const BIN_LIST=[3,9,13,15,21,24,27,30,36,39,42,54,69];
const BIN_TARGET=13;
let binLo=0,binHi=BIN_LIST.length-1,binAttempts=0,binDone=false;

function resetBin(){
  binLo=0;binHi=BIN_LIST.length-1;binAttempts=0;binDone=false;
  renderBin();
  document.getElementById('binStatus').innerHTML='üëÜ Click on the item you think is the <strong>median</strong> of the active sub-list (highlighted in blue).';
  document.getElementById('binLog').innerHTML='';
}

function renderBin(){
  const el=document.getElementById('binList');
  el.innerHTML='';
  BIN_LIST.forEach((n,i)=>{
    const inRange=i>=binLo&&i<=binHi;
    const mid=Math.floor((binLo+binHi)/2);
    const isMedian=i===mid;
    const div=document.createElement('div');
    div.textContent=n;
    div.style.cssText=`padding:10px 14px;border-radius:8px;font-family:'Permanent Marker',cursive;font-size:1.05rem;
      cursor:${inRange&&!binDone?'pointer':'default'};
      background:${isMedian&&inRange?'var(--yellow)':(inRange?'var(--lb)':'#eee')};
      border:2.5px solid ${inRange?'var(--blue)':'#ccc'};
      color:${inRange?'var(--ink)':'#aaa'};
      box-shadow:${inRange?'2px 2px 0 var(--ink)':'none'};
      opacity:${inRange?1:0.4};
      transition:all .2s;`;
    if(inRange&&!binDone) div.onclick=()=>binClick(i);
    el.appendChild(div);
  });
}

function binClick(i){
  if(binDone)return;
  binAttempts++;
  const mid=Math.floor((binLo+binHi)/2);
  const val=BIN_LIST[i];
  const log=document.getElementById('binLog');
  const status=document.getElementById('binStatus');
  if(i!==mid){
    status.innerHTML=`‚ùå That's not the median! The median of positions ${binLo+1}‚Äì${binHi+1} is <strong>${BIN_LIST[mid]}</strong> (position ${mid+1}). Try again!`;
    return;
  }
  let msg=`Attempt ${binAttempts}: Median = <strong>${val}</strong>. `;
  if(val===BIN_TARGET){
    msg+=`‚úÖ <strong style="color:var(--teal)">Found! ${BIN_TARGET} is at position ${i+1}!</strong>`;
    log.innerHTML+=msg+'<br>';
    status.innerHTML=`üéâ Found <strong>${BIN_TARGET}</strong> in ${binAttempts} attempt(s)! Binary search is very efficient!`;
    binDone=true;
    renderBin();
  } else if(val>BIN_TARGET){
    msg+=`${val} &gt; ${BIN_TARGET} ‚Üí search <strong>left</strong> sub-list.`;
    log.innerHTML+=msg+'<br>';
    binHi=mid-1;
    status.innerHTML=`${val} is too HIGH. Now searching positions ${binLo+1}‚Äì${binHi+1}. Click the new median.`;
    renderBin();
  } else {
    msg+=`${val} &lt; ${BIN_TARGET} ‚Üí search <strong>right</strong> sub-list.`;
    log.innerHTML+=msg+'<br>';
    binLo=mid+1;
    status.innerHTML=`${val} is too LOW. Now searching positions ${binLo+1}‚Äì${binHi+1}. Click the new median.`;
    renderBin();
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DECOMPOSITION DRAG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const DECOMP_ITEMS=[
  {text:'Player selects their answer',cat:'input'},
  {text:'Player clicks "Start Game"',cat:'input'},
  {text:'Display the question',cat:'output'},
  {text:'Show current player score',cat:'output'},
  {text:'Display "Correct!" or "Wrong!"',cat:'output'},
  {text:'Calculate score after answer',cat:'process'},
  {text:'Decide which colour the wheel stops on',cat:'process'},
  {text:'Check if player has reached 30 points',cat:'process'},
];
let decompState={input:[],output:[],process:[]};

function resetDecomp(){
  decompState={input:[],output:[],process:[]};
  renderDecomp();
  document.getElementById('decompFB').className='result-pop';
}

function renderDecomp(){
  const bank=document.getElementById('decompBank');
  bank.innerHTML='';
  const placed=[...decompState.input,...decompState.output,...decompState.process].map(i=>i.text);
  DECOMP_ITEMS.forEach((item,idx)=>{
    if(!placed.includes(item.text)){
      const el=document.createElement('div');
      el.className='ww';el.textContent=item.text;el.draggable=true;
      el.style.maxWidth='220px';el.style.fontSize='.82rem';
      el.ondragstart=e=>e.dataTransfer.setData('text/plain',item.text);
      bank.appendChild(el);
    }
  });
  ['input','output','process'].forEach(cat=>{
    const zone=document.getElementById('drop'+cat.charAt(0).toUpperCase()+cat.slice(1));
    const children=Array.from(zone.children).filter(c=>!c.style.fontFamily||c.style.fontFamily.includes('Permanent'));
    // Remove old items
    Array.from(zone.querySelectorAll('.decomp-item')).forEach(c=>c.remove());
    decompState[cat].forEach(item=>{
      const el=document.createElement('div');
      el.className='decomp-item';
      el.textContent=item.text;
      el.style.cssText='background:white;border:2px solid #ccc;border-radius:6px;padding:5px 10px;font-family:Patrick Hand,sans-serif;font-size:.83rem;margin:4px 0;cursor:pointer;';
      el.title='Click to remove';
      el.onclick=()=>{decompState[cat]=decompState[cat].filter(i=>i.text!==item.text);renderDecomp();};
      zone.appendChild(el);
    });
  });
  ['Input','Output','Process'].forEach(cap=>{
    const zone=document.getElementById('drop'+cap);
    zone.ondragover=e=>{e.preventDefault();zone.style.background='rgba(100,200,150,.15)';};
    zone.ondragleave=()=>zone.style.background='';
    zone.ondrop=e=>{
      e.preventDefault();zone.style.background='';
      const text=e.dataTransfer.getData('text/plain');
      const item=DECOMP_ITEMS.find(i=>i.text===text);
      if(item){const cat=cap.toLowerCase();if(!decompState[cat].find(i=>i.text===text)){decompState[cat].push(item);renderDecomp();}}
    };
  });
}

function checkDecomp(){
  let correct=0,total=DECOMP_ITEMS.length;
  const placed=[...decompState.input,...decompState.output,...decompState.process];
  placed.forEach(item=>{
    const actual=item.cat;
    const placed_in=decompState.input.includes(item)?'input':decompState.output.includes(item)?'output':'process';
    if(placed_in===actual)correct++;
  });
  const fb=document.getElementById('decompFB');
  fb.className=`result-pop show ${correct===total?'ok':correct>=total*.6?'part':'bad'}`;
  fb.textContent=correct===total?`üéâ Perfect! All ${total} items categorised correctly!`:`${correct}/${total} correct. Click items in the wrong zone to return them to the bank and try again!`;
}

// Init binary search on page load
resetBin();
initBS();
resetDecomp();

// canvas bg click ‚Üí deselect
const fcCanvas=document.getElementById('fcC');
if(fcCanvas){
  fcCanvas.addEventListener('mousedown',e=>{
    if(e.target===fcCanvas||e.target===document.getElementById('fcHint')||e.target===document.getElementById('arrowSVG')){
      deselectAll();
    }
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PSEUDOCODE EDITOR (Act 11)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PE_KEYWORDS = [
  'BEGIN FUNCTION','END FUNCTION','BEGIN PROCEDURE','END PROCEDURE',
  'FOR EACH','END FOREACH','END WHILE','END REPEAT','END FOR','END IF',
  'RECEIVE','FROM','KEYBOARD','DISPLAY','CARD_READER',
  'SEND','TO','SET','IF','THEN','ELSE','WHILE','DO',
  'REPEAT','UNTIL','TIMES','FOR','FROM','STEP',
  'FUNCTION','PROCEDURE','RETURN','CONST','READ','WRITE',
  'AND','OR','NOT','MOD','DIV','LENGTH','RANDOM','TRUE','FALSE',
  'INTEGER','REAL','BOOLEAN','CHARACTER','STRING','ARRAY'
];

// Sort longest first so multi-word keywords match before single
PE_KEYWORDS.sort((a,b)=>b.length-a.length);

const PE_CHALLENGES = {
  input:{
    desc:'üì• Challenge: Write a program that asks the user for two numbers and displays their sum. Use RECEIVE, SET, and SEND.',
    code:`# Ask for two numbers and display their sum
SEND 'Enter first number:' TO DISPLAY
RECEIVE num1 FROM (INTEGER) KEYBOARD
SEND 'Enter second number:' TO DISPLAY
RECEIVE num2 FROM (INTEGER) KEYBOARD
SET total TO num1 + num2
SEND 'The sum is: ' & total TO DISPLAY`
  },
  selection:{
    desc:'üîÄ Challenge: Ask the user for a test score and display a grade (A=80+, B=70+, C=60+, otherwise Fail).',
    code:`RECEIVE score FROM (INTEGER) KEYBOARD
IF score >= 80 THEN
  SEND 'Grade: A' TO DISPLAY
ELSE
  IF score >= 70 THEN
    SEND 'Grade: B' TO DISPLAY
  ELSE
    IF score >= 60 THEN
      SEND 'Grade: C' TO DISPLAY
    ELSE
      SEND 'Grade: Fail' TO DISPLAY
    END IF
  END IF
END IF`
  },
  while:{
    desc:'üîÑ Challenge: Keep asking the user for a password until they enter "secret". Use a WHILE loop.',
    code:`SET password TO ''
WHILE password <> 'secret' DO
  SEND 'Enter password:' TO DISPLAY
  RECEIVE password FROM (STRING) KEYBOARD
END WHILE
SEND 'Access granted!' TO DISPLAY`
  },
  for:{
    desc:'üî¢ Challenge: Use a FOR loop to display the 5 times table (5, 10, 15, ‚Ä¶ 50).',
    code:`# Display the 5 times table
FOR i FROM 1 TO 10 DO
  SET result TO i * 5
  SEND i & ' x 5 = ' & result TO DISPLAY
END FOR`
  },
  function:{
    desc:'‚ö° Challenge: Write a FUNCTION called CalcArea that takes width and height and returns the area. Then call it.',
    code:`FUNCTION CalcArea(width, height)
BEGIN FUNCTION
  SET area TO width * height
  RETURN area
END FUNCTION

# Call the function
RECEIVE w FROM (INTEGER) KEYBOARD
RECEIVE h FROM (INTEGER) KEYBOARD
SET myArea TO CalcArea(w, h)
SEND 'Area = ' & myArea TO DISPLAY`
  },
  array:{
    desc:'üì¶ Challenge: Store 5 scores in an array, then use FOR EACH to display each one.',
    code:`SET scores TO [85, 72, 91, 68, 77]
SEND 'All scores:' TO DISPLAY
FOR EACH score FROM scores DO
  SEND score TO DISPLAY
END FOREACH
# Access individual element:
SEND 'First score: ' & scores[0] TO DISPLAY`
  }
};

function loadChallenge(key){
  const c=PE_CHALLENGES[key];
  document.getElementById('peChallengeDesc').textContent=c.desc;
  document.getElementById('peInput').value=c.code;
  peHighlight();
  document.getElementById('peFeedback').style.display='none';
}

function escHTML(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}

function peHighlight(){
  const raw=document.getElementById('peInput').value;
  const lines=raw.split('\n');
  const out=lines.map(line=>{
    // 1. Comment (# to end of line) ‚Äî highlight whole suffix
    const cIdx=line.indexOf('#');
    let pre=line, comment='';
    if(cIdx!==-1){pre=line.slice(0,cIdx); comment=line.slice(cIdx);}

    // 2. Strings in pre part
    pre=pre.replace(/('[^']*'|"[^"]*")/g,m=>`\x01STR${escHTML(m)}\x01`);

    // 3. Numbers
    pre=pre.replace(/\b(\d+\.?\d*)\b/g,`\x01NUM$1\x01`);

    // 4. Keywords (longest first)
    for(const kw of PE_KEYWORDS){
      const re=new RegExp(`\\b${kw.replace(/\s+/g,'\\s+')}\\b`,'gi');
      pre=pre.replace(re,m=>`\x01KW${m.toUpperCase()}\x01`);
    }

    // 5. Remaining identifiers (words not yet tagged)
    pre=pre.replace(/(?<!\x01[A-Z]{2,3})\b([A-Za-z_][A-Za-z0-9_]*)\b(?![^\x01]*\x01)/g,
      (_,id)=>`\x01ID${escHTML(id)}\x01`);

    // 6. Render tokens
    function render(s){
      return s.replace(/\x01KW([^\x01]+)\x01/g,(_,t)=>`<span style="color:#c792ea;font-weight:bold;">${escHTML(t)}</span>`)
              .replace(/\x01STR([^\x01]+)\x01/g,(_,t)=>`<span style="color:#c3e88d;">${t}</span>`)
              .replace(/\x01NUM([^\x01]+)\x01/g,(_,t)=>`<span style="color:#f78c6c;">${t}</span>`)
              .replace(/\x01ID([^\x01]+)\x01/g,(_,t)=>`<span style="color:#82aaff;">${t}</span>`);
    }

    const renderedPre=render(pre);
    const renderedComment=comment?`<span style="color:#546e7a;font-style:italic;">${escHTML(comment)}</span>`:'';
    return renderedPre+renderedComment;
  });
  document.getElementById('pePreview').innerHTML=out.join('\n');
}

function peCheck(){
  const code=document.getElementById('peInput').value;
  const lines=code.split('\n').map(l=>l.trim()).filter(l=>l&&!l.startsWith('#'));
  const issues=[];
  const good=[];

  // Check for IF without END IF
  const ifCount=(code.match(/\bIF\b/gi)||[]).length-(code.match(/\bEND IF\b/gi)||[]).length;
  if(ifCount>0) issues.push(`‚ö†Ô∏è ${ifCount} IF statement(s) missing END IF`);
  else if(ifCount<0) issues.push(`‚ö†Ô∏è Extra END IF found (no matching IF)`);
  else if((code.match(/\bIF\b/gi)||[]).length>0) good.push('‚úÖ All IF statements closed with END IF');

  // WHILE / END WHILE
  const wh=(code.match(/\bWHILE\b/gi)||[]).length-(code.match(/\bEND WHILE\b/gi)||[]).length;
  if(wh>0) issues.push(`‚ö†Ô∏è ${wh} WHILE loop(s) missing END WHILE`);
  else if((code.match(/\bWHILE\b/gi)||[]).length>0) good.push('‚úÖ All WHILE loops closed with END WHILE');

  // FOR / END FOR
  const fo=(code.match(/\bFOR\b(?!\s+EACH)/gi)||[]).length-(code.match(/\bEND FOR\b/gi)||[]).length;
  if(fo>0) issues.push(`‚ö†Ô∏è ${fo} FOR loop(s) missing END FOR`);
  else if((code.match(/\bFOR\b(?!\s+EACH)/gi)||[]).length>0) good.push('‚úÖ All FOR loops closed with END FOR');

  // FOR EACH / END FOREACH
  const fe=(code.match(/\bFOR EACH\b/gi)||[]).length-(code.match(/\bEND FOREACH\b/gi)||[]).length;
  if(fe>0) issues.push(`‚ö†Ô∏è ${fe} FOR EACH loop(s) missing END FOREACH`);
  else if((code.match(/\bFOR EACH\b/gi)||[]).length>0) good.push('‚úÖ All FOR EACH loops closed with END FOREACH');

  // FUNCTION / END FUNCTION
  const fn=(code.match(/\bFUNCTION\b/gi)||[]).length-(code.match(/\bEND FUNCTION\b/gi)||[]).length;
  if(fn>0) issues.push(`‚ö†Ô∏è FUNCTION missing END FUNCTION`);
  else if((code.match(/\bFUNCTION\b/gi)||[]).length>0) good.push('‚úÖ FUNCTION closed with END FUNCTION');

  // PROCEDURE / END PROCEDURE
  const pr=(code.match(/\bPROCEDURE\b/gi)||[]).length-(code.match(/\bEND PROCEDURE\b/gi)||[]).length;
  if(pr>0) issues.push(`‚ö†Ô∏è PROCEDURE missing END PROCEDURE`);
  else if((code.match(/\bPROCEDURE\b/gi)||[]).length>0) good.push('‚úÖ PROCEDURE closed with END PROCEDURE');

  // FUNCTION has RETURN
  if(code.match(/\bFUNCTION\b/gi) && !code.match(/\bRETURN\b/gi))
    issues.push('‚ö†Ô∏è FUNCTION defined but no RETURN statement found');
  else if(code.match(/\bFUNCTION\b/gi) && code.match(/\bRETURN\b/gi))
    good.push('‚úÖ FUNCTION includes RETURN');

  // SEND ... TO DISPLAY
  const sendLines=lines.filter(l=>/\bSEND\b/i.test(l));
  const badSend=sendLines.filter(l=>!/\bTO\s+DISPLAY\b/i.test(l));
  if(badSend.length) issues.push(`‚ö†Ô∏è SEND statement(s) missing "TO DISPLAY": ${badSend.slice(0,2).map(l=>'"'+l+'"').join(', ')}`);
  else if(sendLines.length) good.push('‚úÖ SEND ‚Ä¶ TO DISPLAY syntax correct');

  // RECEIVE ... FROM ... KEYBOARD
  const recvLines=lines.filter(l=>/\bRECEIVE\b/i.test(l));
  const badRecv=recvLines.filter(l=>!/\bFROM\b/i.test(l));
  if(badRecv.length) issues.push(`‚ö†Ô∏è RECEIVE statement(s) missing FROM: ${badRecv.slice(0,2).map(l=>'"'+l+'"').join(', ')}`);
  else if(recvLines.length) good.push('‚úÖ RECEIVE ‚Ä¶ FROM syntax correct');

  // Check for non-Edexcel keywords (common mistakes)
  if(/\bPRINT\b/i.test(code)) issues.push('‚ùå PRINT is not Edexcel pseudocode ‚Äî use SEND ‚Ä¶ TO DISPLAY');
  if(/\bINPUT\b/i.test(code)) issues.push('‚ùå INPUT is not Edexcel pseudocode ‚Äî use RECEIVE ‚Ä¶ FROM ‚Ä¶ KEYBOARD');
  if(/\bOUTPUT\b/i.test(code)) issues.push('‚ùå OUTPUT is not Edexcel pseudocode ‚Äî use SEND ‚Ä¶ TO DISPLAY');
  if(/\bDISPLAY\s+[^;](?!.*TO\s+DISPLAY)/i.test(code)&&!/\bSEND\b.*\bDISPLAY\b/i.test(code)) {}
  if(/==/.test(code)) issues.push('‚ö†Ô∏è Use = for equality in pseudocode, not == (that\'s Python/JS syntax)');
  if(/!=/.test(code)) issues.push('‚ö†Ô∏è Use <> for "not equal to" in pseudocode, not !=');

  // Empty check
  if(!code.trim()){issues.push('‚ö†Ô∏è Nothing to check ‚Äî write some pseudocode first!');}
  else good.push(`‚úÖ ${lines.length} line(s) of pseudocode analysed`);

  const fb=document.getElementById('peFeedback');
  fb.style.display='block';
  if(issues.length===0){
    fb.style.background='#d8f3dc';fb.style.border='2px solid #059669';
    fb.innerHTML='<strong style="color:#059669;">üéâ No syntax issues found!</strong><br>'+good.join('<br>');
  } else {
    fb.style.background='#fce4ec';fb.style.border='2px solid #ef476f';
    fb.innerHTML='<strong style="color:#ef476f;">‚ö†Ô∏è Issues found:</strong><br>'+
      issues.join('<br>')+'<br><br><strong style="color:#059669;">‚úÖ What looks good:</strong><br>'+
      (good.length?good.join('<br>'):'Nothing checked as correct yet.');
  }
}

function peClear(){
  document.getElementById('peInput').value='';
  document.getElementById('pePreview').innerHTML='';
  document.getElementById('peFeedback').style.display='none';
  document.getElementById('peChallengeDesc').textContent='';
}

function peCopy(){
  navigator.clipboard.writeText(document.getElementById('peInput').value)
    .then(()=>alert('Pseudocode copied to clipboard!'))
    .catch(()=>{});
}

// Build quick-insert keyword buttons
(function buildKwBtns(){
  const btns=[
    ['SEND ‚Ä¶ TO DISPLAY','SEND  TO DISPLAY'],
    ['RECEIVE ‚Ä¶ FROM KEYBOARD','RECEIVE  FROM (INTEGER) KEYBOARD'],
    ['SET ‚Ä¶ TO','SET  TO '],
    ['IF ‚Ä¶ THEN','IF  THEN\n  \nEND IF'],
    ['IF ‚Ä¶ ELSE','IF  THEN\n  \nELSE\n  \nEND IF'],
    ['WHILE ‚Ä¶ DO','WHILE  DO\n  \nEND WHILE'],
    ['REPEAT ‚Ä¶ UNTIL','REPEAT\n  \nUNTIL '],
    ['FOR ‚Ä¶ TO','FOR i FROM 1 TO  DO\n  \nEND FOR'],
    ['FOR EACH','FOR EACH  FROM  DO\n  \nEND FOREACH'],
    ['FUNCTION','FUNCTION Name()\nBEGIN FUNCTION\n  \n  RETURN \nEND FUNCTION'],
    ['PROCEDURE','PROCEDURE Name()\nBEGIN PROCEDURE\n  \nEND PROCEDURE'],
  ];
  const cont=document.getElementById('kwBtns');
  if(!cont)return;
  btns.forEach(([label,snippet])=>{
    const b=document.createElement('button');
    b.className='btn';
    b.style.cssText='font-size:.72rem;padding:3px 8px;background:#ede0ff;white-space:nowrap;';
    b.textContent=label;
    b.onclick=()=>{
      const ta=document.getElementById('peInput');
      const pos=ta.selectionStart;
      const v=ta.value;
      ta.value=v.slice(0,pos)+snippet+v.slice(pos);
      ta.focus();
      ta.selectionStart=ta.selectionEnd=pos+snippet.length;
      peHighlight();
    };
    cont.appendChild(b);
  });
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
buildOps();
buildBlanks5();
shuffleSort();

// Add Topic 3 & 4 quiz questions
const newQuestions = [
  {q:'What algorithm design approach does bubble sort use?',opts:['Divide and conquer','Brute force','Recursion','Binary method'],a:1,exp:'Bubble sort uses a brute force approach ‚Äî it starts at the beginning and repeats the same comparison process until sorted (p.19).'},
  {q:'What algorithm design approach does merge sort use?',opts:['Brute force','Sequential','Divide and conquer','Greedy'],a:2,exp:'Merge sort uses the divide and conquer approach ‚Äî it repeatedly breaks the problem into smaller sub-problems then combines the solutions (p.19).'},
  {q:'When does bubble sort stop?',opts:['After a set number of passes','When the last item is in place','When a complete pass makes no swaps','After n-1 passes'],a:2,exp:'Bubble sort stops when a complete pass is made with NO swaps ‚Äî this confirms the list is sorted (p.15).'},
  {q:'What is "recursion" in the context of merge sort?',opts:['Running the algorithm backwards','Applying a method to results of its previous application','Comparing adjacent pairs','Sorting in descending order'],a:1,exp:'Recursion means applying a method to the results of a previous application of that same method ‚Äî e.g. repeatedly halving a list (p.18).'},
  {q:'Which requirement is ESSENTIAL for binary search to work?',opts:['The list must have fewer than 100 items','The list must contain numbers only','The list must be sorted in ascending or descending order','The list must start at index 0'],a:2,exp:'Binary search only works on a sorted list ‚Äî it cannot be used on an unsorted list (p.20).'},
  {q:'In binary search, what is the "median" used for?',opts:['To mark where to split the list permanently','To identify the middle item for comparison','To calculate the average of the list','To identify duplicates'],a:1,exp:'The median (middle item) is selected and compared to the search target ‚Äî too high means search left, too low means search right (p.20).'},
  {q:'For a list of 1000 items, what is the WORST case number of comparisons for a BINARY search?',opts:['1000','500','100','10'],a:3,exp:'Binary search has a worst case of log‚ÇÇ(1000) ‚âà 10 comparisons ‚Äî far better than the 1000 worst case of linear search (p.21).'},
  {q:'A linear search on a list of 1000 items has what AVERAGE number of comparisons?',opts:['1','10','500','1000'],a:2,exp:'Linear search starts at the beginning and works sequentially. On average, you will find the item halfway through: 1000/2 = 500 comparisons (p.21).'},
  {q:'What is "decomposition" in computer science?',opts:['Writing code in a programming language','Breaking a problem into smaller, manageable sub-problems','Removing unnecessary detail from a problem','Testing a program for errors'],a:1,exp:'Decomposition means breaking a problem down into smaller, more manageable parts which are then easier to solve (p.23).'},
  {q:'What is "abstraction" in computer science?',opts:['Breaking a problem into sub-problems','Writing pseudocode for an algorithm','Removing unnecessary detail so only important points remain','Converting code into machine language'],a:2,exp:'Abstraction is the process of removing or hiding unnecessary detail so that only the important points remain (p.23).'},
];
questions.push(...newQuestions);
document.getElementById('qtot').textContent=questions.length;
loadQ();
</script>

</body>
</html>
